'use strict';

function run(fn) {
    return fn();
}
function blank_object() {
    return Object.create(null);
}
function run_all(fns) {
    fns.forEach(run);
}
function custom_event(type, detail) {
    const e = document.createEvent('CustomEvent');
    e.initCustomEvent(type, false, false, detail);
    return e;
}

let current_component;
function set_current_component(component) {
    current_component = component;
}
function get_current_component() {
    if (!current_component)
        throw new Error(`Function called outside component initialization`);
    return current_component;
}
function createEventDispatcher() {
    const component = get_current_component();
    return (type, detail) => {
        const callbacks = component.$$.callbacks[type];
        if (callbacks) {
            // TODO are there situations where events could be dispatched
            // in a server (non-DOM) environment?
            const event = custom_event(type, detail);
            callbacks.slice().forEach(fn => {
                fn.call(component, event);
            });
        }
    };
}
const escaped = {
    '"': '&quot;',
    "'": '&#39;',
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;'
};
function escape(html) {
    return String(html).replace(/["'&<>]/g, match => escaped[match]);
}
function each(items, fn) {
    let str = '';
    for (let i = 0; i < items.length; i += 1) {
        str += fn(items[i], i);
    }
    return str;
}
function validate_component(component, name) {
    if (!component || !component.$$render) {
        if (name === 'svelte:component')
            name += ' this={...}';
        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);
    }
    return component;
}
let on_destroy;
function create_ssr_component(fn) {
    function $$render(result, props, bindings, slots) {
        const parent_component = current_component;
        const $$ = {
            on_destroy,
            context: new Map(parent_component ? parent_component.$$.context : []),
            // these will be immediately discarded
            on_mount: [],
            before_update: [],
            after_update: [],
            callbacks: blank_object()
        };
        set_current_component({ $$ });
        const html = fn(result, props, bindings, slots);
        set_current_component(parent_component);
        return html;
    }
    return {
        render: (props = {}, options = {}) => {
            on_destroy = [];
            const result = { title: '', head: '', css: new Set() };
            const html = $$render(result, props, {}, options);
            run_all(on_destroy);
            return {
                html,
                css: {
                    code: Array.from(result.css).map(css => css.code).join('\n'),
                    map: null // TODO
                },
                head: result.title + result.head
            };
        },
        $$render
    };
}
function add_attribute(name, value, boolean) {
    if (value == null || (boolean && !value))
        return '';
    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `"${value}"`}`}`;
}

/* src/Toolbar.svelte generated by Svelte v3.29.0 */

const css = {
	code: ".toolbar.svelte-qt01bs{margin-bottom:1em;padding:1em 0;display:flex;justify-content:flex-end;font-family:var(--toolbar-font, -apple-system, Helvetica, sans-serif);font-size:var(--toolbar-font-size, 0.85em);background-color:var(--toolbar-bg, transparent)}button.svelte-qt01bs{cursor:pointer;margin-left:1em;font-size:1em;background-color:var(--toolbar-button-bg, #efefef);border-radius:var(--toolbar-button-border-radius, 4px);color:var(--toolbar-button-color, #6a6a6a);padding:var(--toolbar-button-padding, 0.75em);border:var(--toolbar-button-border, none);font-weight:var(--toolbar-button-font-weight, 400);transition:background-color 150ms}button.svelte-qt01bs:hover{background-color:var(--toolbar-button-bg-hover, #cdcdcd)}",
	map: "{\"version\":3,\"file\":\"Toolbar.svelte\",\"sources\":[\"Toolbar.svelte\"],\"sourcesContent\":[\"<script>\\n  import { createEventDispatcher } from 'svelte';\\n  const dispatch = createEventDispatcher();\\n\\n  export let actions = ['clear', 'reveal'];\\n</script>\\n\\n<div class=\\\"toolbar\\\">\\n  {#each actions as action}\\n    {#if action == 'clear'}\\n      <button on:click=\\\"{() => dispatch('event', 'clear')}\\\">Clear</button>\\n    {:else if action == 'reveal'}\\n      <button on:click=\\\"{() => dispatch('event', 'reveal')}\\\">Reveal</button>\\n    {/if}\\n  {/each}\\n</div>\\n\\n<style>\\n  .toolbar {\\n    margin-bottom: 1em;\\n\\t\\tpadding: 1em 0;\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: flex-end;\\n\\t\\tfont-family: var(--toolbar-font, -apple-system, Helvetica, sans-serif);\\n\\t\\tfont-size: var(--toolbar-font-size, 0.85em);\\n\\t\\tbackground-color: var(--toolbar-bg, transparent);\\n  }\\n  button {\\n    cursor: pointer;\\n\\t\\tmargin-left: 1em;\\n\\t\\tfont-size: 1em;\\n\\t\\tbackground-color: var(--toolbar-button-bg, #efefef);\\n\\t\\tborder-radius: var(--toolbar-button-border-radius, 4px);\\n\\t\\tcolor: var(--toolbar-button-color, #6a6a6a);\\n\\t\\tpadding: var(--toolbar-button-padding, 0.75em);\\n\\t\\tborder: var(--toolbar-button-border, none);\\n\\t\\tfont-weight: var(--toolbar-button-font-weight, 400);\\n\\t\\ttransition: background-color 150ms;\\n  }\\n\\tbutton:hover {\\n\\t\\tbackground-color: var(--toolbar-button-bg-hover, #cdcdcd);\\n\\t}\\n</style>\\n\"],\"names\":[],\"mappings\":\"AAkBE,QAAQ,cAAC,CAAC,AACR,aAAa,CAAE,GAAG,CACpB,OAAO,CAAE,GAAG,CAAC,CAAC,CACd,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,QAAQ,CACzB,WAAW,CAAE,IAAI,cAAc,CAAC,qCAAqC,CAAC,CACtE,SAAS,CAAE,IAAI,mBAAmB,CAAC,OAAO,CAAC,CAC3C,gBAAgB,CAAE,IAAI,YAAY,CAAC,YAAY,CAAC,AAChD,CAAC,AACD,MAAM,cAAC,CAAC,AACN,MAAM,CAAE,OAAO,CACjB,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,GAAG,CACd,gBAAgB,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CACnD,aAAa,CAAE,IAAI,8BAA8B,CAAC,IAAI,CAAC,CACvD,KAAK,CAAE,IAAI,sBAAsB,CAAC,QAAQ,CAAC,CAC3C,OAAO,CAAE,IAAI,wBAAwB,CAAC,OAAO,CAAC,CAC9C,MAAM,CAAE,IAAI,uBAAuB,CAAC,KAAK,CAAC,CAC1C,WAAW,CAAE,IAAI,4BAA4B,CAAC,IAAI,CAAC,CACnD,UAAU,CAAE,gBAAgB,CAAC,KAAK,AAClC,CAAC,AACF,oBAAM,MAAM,AAAC,CAAC,AACb,gBAAgB,CAAE,IAAI,yBAAyB,CAAC,QAAQ,CAAC,AAC1D,CAAC\"}"
};

const Toolbar = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	const dispatch = createEventDispatcher();
	let { actions = ["clear", "reveal"] } = $$props;
	if ($$props.actions === void 0 && $$bindings.actions && actions !== void 0) $$bindings.actions(actions);
	$$result.css.add(css);

	return `<div class="${"toolbar svelte-qt01bs"}">${each(actions, action => `${action == "clear"
	? `<button class="${"svelte-qt01bs"}">Clear</button>`
	: `${action == "reveal"
		? `<button class="${"svelte-qt01bs"}">Reveal</button>`
		: ``}`}`)}
</div>`;
});

var keyboardData = [{
	"row": 0,
	"value": "Q"
}, {
	"row": 0,
	"value": "W"
}, {
	"row": 0,
	"value": "E"
}, {
	"row": 0,
	"value": "R"
}, {
	"row": 0,
	"value": "T"
}, {
	"row": 0,
	"value": "Y"
}, {
	"row": 0,
	"value": "U"
},  {
	"row": 0,
	"value": "I"
},  {
	"row": 0,
	"value": "O"
},  {
	"row": 0,
	"value": "P"
}, {
	"row": 1,
	"value": "A"
}, {
	"row": 1,
	"value": "S"
}, {
	"row": 1,
	"value": "D"
}, {
	"row": 1,
	"value": "F"
}, {
	"row": 1,
	"value": "G"
}, {
	"row": 1,
	"value": "H"
}, {
	"row": 1,
	"value": "J"
}, {
	"row": 1,
	"value": "K"
}, {
	"row": 1,
	"value": "L"
}, {
	"row": 2,
	"value": "123"
}, {
	"row": 2,
	"value": "Z"
}, {
	"row": 2,
	"value": "X"
}, {
	"row": 2,
	"value": "C"
}, {
	"row": 2,
	"value": "V"
}, {
	"row": 2,
	"value": "B"
}, {
	"row": 2,
	"value": "N"
}, {
	"row": 2,
	"value": "M"
}, {
	"row": 2,
	"value": "delete"
}
 ];

/* src/Keyboard.svelte generated by Svelte v3.29.0 */

const css$1 = {
	code: ".row.svelte-1gxjh4k{display:flex;justify-content:center}button.svelte-1gxjh4k{font-size:1em;text-align:center;padding:0.5em;margin:0.1em;border-radius:2px;background-color:#efefef;border:none;outline:none;cursor:pointer;line-height:1;vertical-align:baseline}button.svelte-1gxjh4k:active{transform:scale(2);background-color:#cdcdcd}button.single.svelte-1gxjh4k{padding:0.5em 0}",
	map: "{\"version\":3,\"file\":\"Keyboard.svelte\",\"sources\":[\"Keyboard.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { createEventDispatcher } from 'svelte';\\n\\timport keyboardData from './helpers/keyboard-data.js';\\n  const dispatch = createEventDispatcher();\\n\\t\\n\\tconst unique = arr => [...new Set(arr)];\\n\\tconst rows = unique(keyboardData.map(d => d.row));\\n\\trows.sort((a,b) => a - b);\\n\\n\\tconst swaps = {\\n\\t\\t\\\"delete\\\": '<svg width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"feather feather-delete\\\"><path d=\\\"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z\\\"></path><line x1=\\\"18\\\" y1=\\\"9\\\" x2=\\\"12\\\" y2=\\\"15\\\"></line><line x1=\\\"12\\\" y1=\\\"9\\\" x2=\\\"18\\\" y2=\\\"15\\\"></line></svg>'\\n\\t};\\n\\n\\t$: rowData = rows.map(r => keyboardData.filter(k => k.row === r));\\n\\t$: maxInRow = Math.max(...rowData.map(r => r.length));\\n\\t$: percentWidth = `${1 / maxInRow * 100}%`;\\n\\n\\tfunction onKey() {\\n\\t\\tconst value = this.innerText;\\n\\t\\tdispatch('keydown', value);\\n\\t}\\n\\n</script>\\n\\n<div class=\\\"keyboard\\\">\\n\\t{#each rowData as keys}\\n\\t\\t<div class=\\\"row\\\">\\n\\t\\t{#each keys as { value }}\\n\\t\\t\\t<button\\n\\t\\t\\t\\tstyle=\\\"width: {value.length === 1 ? percentWidth : 'auto'};\\\"\\n\\t\\t\\t\\tclass:single={value.length === 1}\\n\\t\\t\\t\\ton:touchstart=\\\"{() => dispatch(\\\"keydown\\\", value)}\\\"\\n\\t\\t\\t\\ton:click=\\\"{() => dispatch(\\\"keydown\\\", value)}\\\">\\n\\t\\t\\t\\t{#if swaps[value]}\\n\\t\\t\\t\\t {@html swaps[value]}\\n\\t\\t\\t\\t{:else}\\n\\t\\t\\t\\t\\t{value}\\n\\t\\t\\t\\t{/if}\\n\\t\\t\\t</button>\\n\\t\\t{/each}\\n\\t\\t</div>\\n\\t{/each}\\n</div>\\n\\n<style>\\n\\t.row {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: center;\\n\\t\\t\\n\\t}\\n\\t\\n\\tbutton {\\n\\t\\tfont-size: 1em;\\n\\t\\ttext-align: center;\\n\\t\\tpadding: 0.5em;\\n\\t\\tmargin: 0.1em;\\n\\t\\tborder-radius: 2px;\\n\\t\\tbackground-color: #efefef;\\n\\t\\tborder: none;\\n\\t\\toutline: none;\\n\\t\\tcursor: pointer;\\n\\t\\tline-height: 1;\\n\\t\\tvertical-align: baseline;\\n\\t}\\n\\n\\tbutton:active {\\n\\t\\ttransform: scale(2);\\n\\t\\tbackground-color: #cdcdcd;\\n\\t}\\n\\n\\tbutton.single {\\n\\t\\tpadding: 0.5em 0;\\n\\t}\\n</style>\"],\"names\":[],\"mappings\":\"AA6CC,IAAI,eAAC,CAAC,AACL,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,AAExB,CAAC,AAED,MAAM,eAAC,CAAC,AACP,SAAS,CAAE,GAAG,CACd,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,KAAK,CACd,MAAM,CAAE,KAAK,CACb,aAAa,CAAE,GAAG,CAClB,gBAAgB,CAAE,OAAO,CACzB,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,OAAO,CACf,WAAW,CAAE,CAAC,CACd,cAAc,CAAE,QAAQ,AACzB,CAAC,AAED,qBAAM,OAAO,AAAC,CAAC,AACd,SAAS,CAAE,MAAM,CAAC,CAAC,CACnB,gBAAgB,CAAE,OAAO,AAC1B,CAAC,AAED,MAAM,OAAO,eAAC,CAAC,AACd,OAAO,CAAE,KAAK,CAAC,CAAC,AACjB,CAAC\"}"
};

const Keyboard = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	const dispatch = createEventDispatcher();
	const unique = arr => [...new Set(arr)];
	const rows = unique(keyboardData.map(d => d.row));
	rows.sort((a, b) => a - b);

	const swaps = {
		"delete": "<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-delete\"><path d=\"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z\"></path><line x1=\"18\" y1=\"9\" x2=\"12\" y2=\"15\"></line><line x1=\"12\" y1=\"9\" x2=\"18\" y2=\"15\"></line></svg>"
	};

	$$result.css.add(css$1);
	let rowData;
	let maxInRow;
	let percentWidth;
	rowData = rows.map(r => keyboardData.filter(k => k.row === r));
	maxInRow = Math.max(...rowData.map(r => r.length));
	percentWidth = `${1 / maxInRow * 100}%`;

	return `<div class="${"keyboard"}">${each(rowData, keys => `<div class="${"row svelte-1gxjh4k"}">${each(keys, ({ value }) => `<button style="${"width: " + escape(value.length === 1 ? percentWidth : "auto") + ";"}" class="${["svelte-1gxjh4k", value.length === 1 ? "single" : ""].join(" ").trim()}">${swaps[value] ? `${swaps[value]}` : `${escape(value)}`}
			</button>`)}
		</div>`)}
</div>`;
});

var getSecondarilyFocusedCells = ({ cells, focusedDirection, focusedCell }) => {
  const dimension = focusedDirection == "across" ? "x" : "y";
  const otherDimension = focusedDirection == "across" ? "y" : "x";
  const start = focusedCell[dimension];

  const cellsWithDiff = cells
    .filter(
      (cell) =>
        // take out cells in other columns/rows
        cell[otherDimension] == focusedCell[otherDimension]
    )
    .map((cell) => ({
      ...cell,
      // how far is this cell from our focused cell?
      diff: start - cell[dimension],
    }));
    
	cellsWithDiff.sort((a, b) => a.diff - b.diff);

  // highlight all cells in same row/column, without any breaks
  const diffs = cellsWithDiff.map((d) => d.diff);
  const indices = range(Math.min(...diffs), Math.max(...diffs)).map((i) =>
    diffs.includes(i) ? i : " "
  );
  const chunks = indices.join(",").split(", ,");
  const currentChunk = (
    chunks.find(
      (d) => d.startsWith("0,") || d.endsWith(",0") || d.includes(",0,")
    ) || ""
  )
    .split(",")
    .map((d) => +d);

  const secondarilyFocusedCellIndices = cellsWithDiff
    .filter((cell) => currentChunk.includes(cell.diff))
    .map((cell) => cell.index);
  return secondarilyFocusedCellIndices;
};

const range = (min, max) =>
  Array.from({ length: max - min + 1 }, (v, k) => k + min);

var getCellAfterDiff = ({ diff, cells, direction, focusedCell }) => {
  const dimension = direction == "across" ? "x" : "y";
  const otherDimension = direction == "across" ? "y" : "x";
  const start = focusedCell[dimension];
  const absDiff = Math.abs(diff);
  const isDiffNegative = diff < 0;

  const cellsWithDiff = cells
    .filter(
      (cell) =>
        // take out cells in other columns/rows
        cell[otherDimension] == focusedCell[otherDimension] &&
        // take out cells in wrong direction
        (isDiffNegative ? cell[dimension] < start : cell[dimension] > start)
    )
    .map((cell) => ({
      ...cell,
      // how far is this cell from our focused cell?
      absDiff: Math.abs(start - cell[dimension]),
    }));

  cellsWithDiff.sort((a, b) => a.absDiff - b.absDiff);
  return cellsWithDiff[absDiff - 1];
};

/* src/Cell.svelte generated by Svelte v3.29.0 */

const css$2 = {
	code: "g.svelte-1fqxzxj.svelte-1fqxzxj{cursor:pointer;user-select:none}g.svelte-1fqxzxj.svelte-1fqxzxj:focus{outline:none}g.is-secondarily-focused.svelte-1fqxzxj rect.svelte-1fqxzxj{fill:var(--cell-secondary-color, #ffec99)}g.is-focused.svelte-1fqxzxj rect.svelte-1fqxzxj{fill:var(--cell-highlight-color, #ffcc00)}rect.svelte-1fqxzxj.svelte-1fqxzxj{transition:fill 0.1s ease-out}text.svelte-1fqxzxj.svelte-1fqxzxj{pointer-events:none;line-height:1;fill:var(--cell-text-color, #1a1a1a)}.value.svelte-1fqxzxj.svelte-1fqxzxj{font-size:var(--cell-font-size, 0.7em);font-weight:var(--cell-font-weight, 700)}.number.svelte-1fqxzxj.svelte-1fqxzxj{font-size:var(--number-font-size, 0.3em);font-weight:var(--number-font-weight, 300);fill:var(--number-color, #8a8a8a)}rect.svelte-1fqxzxj.svelte-1fqxzxj{fill:var(--cell-bg-color, #fff);stroke:var(--cell-border-color, #1a1a1a);stroke-width:var(--cell-border-width, 0.01)}",
	map: "{\"version\":3,\"file\":\"Cell.svelte\",\"sources\":[\"Cell.svelte\"],\"sourcesContent\":[\"<script>\\n  export let x;\\n  export let y;\\n  export let value;\\n  export let number;\\n  export let index;\\n  export let custom;\\n  export let changeDelay = 0;\\n  export let isRevealing = false;\\n  export let isFocused = false;\\n  export let isSecondarilyFocused = false;\\n  export let onFocusCell = () => {};\\n  export let onCellUpdate = () => {};\\n  export let onFocusClueDiff = () => {};\\n  export let onMoveFocus = () => {};\\n  export let onFlipDirection = () => {};\\n  export let onHistoricalChange = () => {};\\n\\n  let element;\\n\\n  function onFocusSelf() {\\n    if (!element) return;\\n    if (isFocused) element.focus();\\n  }\\n\\n  $: isFocused, onFocusSelf();\\n\\n  function onKeydown(e) {\\n    if (e.ctrlKey && e.key.toLowerCase() == \\\"z\\\") {\\n      onHistoricalChange(e.shiftKey ? 1 : -1);\\n    }\\n\\n    if (e.ctrlKey) return;\\n    if (e.altKey) return;\\n\\n    if (e.key === \\\"Tab\\\") {\\n      onFocusClueDiff(e.shiftKey ? -1 : 1);\\n      e.preventDefault();\\n      e.stopPropagation();\\n      return;\\n    }\\n\\n    if (e.key == \\\" \\\") {\\n      onFlipDirection();\\n      e.preventDefault();\\n      e.stopPropagation();\\n      return;\\n    }\\n\\n    if ([\\\"Delete\\\", \\\"Backspace\\\"].includes(e.key)) {\\n      onCellUpdate(index, \\\"\\\", -1);\\n      return;\\n    }\\n\\n    const isKeyInAlphabet = /^[a-zA-Z()]$/.test(e.key);\\n    if (isKeyInAlphabet) {\\n      onCellUpdate(index, e.key.toUpperCase());\\n      return;\\n    }\\n\\n    const diff = {\\n      ArrowLeft: [\\\"across\\\", -1],\\n      ArrowRight: [\\\"across\\\", 1],\\n      ArrowUp: [\\\"down\\\", -1],\\n      ArrowDown: [\\\"down\\\", 1],\\n    }[e.key];\\n    if (diff) {\\n      onMoveFocus(...diff);\\n      e.preventDefault();\\n      e.stopPropagation();\\n      return;\\n    }\\n\\t}\\n\\t\\n  function onClick() {\\n    onFocusCell(index);\\n  }\\n\\n  function pop(node, { delay = 0, duration = 250 }) {\\n\\t\\treturn {\\n\\t\\t\\tdelay,\\n\\t\\t\\tduration,\\n\\t\\t\\tcss: (t) =>\\n\\t\\t\\t\\t[\\n\\t\\t\\t\\t\\t`transform: translate(0, ${1 - t}px)`, //\\n\\t\\t\\t\\t].join(\\\";\\\"),\\n\\t\\t}\\n\\t}\\n</script>\\n\\n<!-- <svelte:window on:keydown={onKeydown} /> -->\\n\\n<g\\n  class=\\\"cell {custom}\\\"\\n  class:is-focused=\\\"{isFocused}\\\"\\n  class:is-secondarily-focused=\\\"{isSecondarilyFocused}\\\"\\n  transform=\\\"{`translate(${x}, ${y})`}\\\"\\n  id=\\\"cell-{x}-{y}\\\"\\n  tabIndex=\\\"0\\\"\\n  on:click=\\\"{onClick}\\\"\\n  on:keydown=\\\"{onKeydown}\\\"\\n  bind:this=\\\"{element}\\\">\\n  <rect width=\\\"1\\\" height=\\\"1\\\"></rect>\\n  {#if value}\\n    <text\\n      transition:pop=\\\"{{ y: 5, delay: changeDelay, duration: isRevealing ? 250 : 0 }}\\\"\\n      class=\\\"value\\\"\\n      x=\\\"0.5\\\"\\n      y=\\\"0.9\\\"\\n      dominant-baseline=\\\"auto\\\"\\n      text-anchor=\\\"middle\\\">\\n      {value}\\n    </text>\\n  {/if}\\n  <text\\n    class=\\\"number\\\"\\n    x=\\\"0.1\\\"\\n    y=\\\"0.1\\\"\\n    dominant-baseline=\\\"hanging\\\"\\n    text-anchor=\\\"start\\\">\\n    {number}\\n  </text>\\n</g>\\n\\n<style>\\n  g {\\n    cursor: pointer;\\n    user-select: none;\\n  }\\n\\n  g:focus {\\n    outline: none;\\n  }\\n\\n  g.is-secondarily-focused rect {\\n    fill: var(--cell-secondary-color, #ffec99);\\n  }\\n\\n  g.is-focused rect {\\n    fill: var(--cell-highlight-color, #ffcc00);\\n  }\\n\\n  rect {\\n    transition: fill 0.1s ease-out;\\n  }\\n\\n  text {\\n    pointer-events: none;\\n    line-height: 1;\\n    fill: var(--cell-text-color, #1a1a1a);\\n  }\\n\\n  .value {\\n    font-size: var(--cell-font-size, 0.7em);\\n    font-weight: var(--cell-font-weight, 700);\\n  }\\n\\n  .number {\\n    font-size: var(--number-font-size, 0.3em);\\n    font-weight: var(--number-font-weight, 300);\\n    fill: var(--number-color, #8a8a8a);\\n  }\\n\\n  rect {\\n    fill: var(--cell-bg-color, #fff);\\n    stroke: var(--cell-border-color, #1a1a1a);\\n    stroke-width: var(--cell-border-width, 0.01);\\n  }\\n</style>\\n\"],\"names\":[],\"mappings\":\"AA6HE,CAAC,8BAAC,CAAC,AACD,MAAM,CAAE,OAAO,CACf,WAAW,CAAE,IAAI,AACnB,CAAC,AAED,+BAAC,MAAM,AAAC,CAAC,AACP,OAAO,CAAE,IAAI,AACf,CAAC,AAED,CAAC,sCAAuB,CAAC,IAAI,eAAC,CAAC,AAC7B,IAAI,CAAE,IAAI,sBAAsB,CAAC,QAAQ,CAAC,AAC5C,CAAC,AAED,CAAC,0BAAW,CAAC,IAAI,eAAC,CAAC,AACjB,IAAI,CAAE,IAAI,sBAAsB,CAAC,QAAQ,CAAC,AAC5C,CAAC,AAED,IAAI,8BAAC,CAAC,AACJ,UAAU,CAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,AAChC,CAAC,AAED,IAAI,8BAAC,CAAC,AACJ,cAAc,CAAE,IAAI,CACpB,WAAW,CAAE,CAAC,CACd,IAAI,CAAE,IAAI,iBAAiB,CAAC,QAAQ,CAAC,AACvC,CAAC,AAED,MAAM,8BAAC,CAAC,AACN,SAAS,CAAE,IAAI,gBAAgB,CAAC,MAAM,CAAC,CACvC,WAAW,CAAE,IAAI,kBAAkB,CAAC,IAAI,CAAC,AAC3C,CAAC,AAED,OAAO,8BAAC,CAAC,AACP,SAAS,CAAE,IAAI,kBAAkB,CAAC,MAAM,CAAC,CACzC,WAAW,CAAE,IAAI,oBAAoB,CAAC,IAAI,CAAC,CAC3C,IAAI,CAAE,IAAI,cAAc,CAAC,QAAQ,CAAC,AACpC,CAAC,AAED,IAAI,8BAAC,CAAC,AACJ,IAAI,CAAE,IAAI,eAAe,CAAC,KAAK,CAAC,CAChC,MAAM,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CACzC,YAAY,CAAE,IAAI,mBAAmB,CAAC,KAAK,CAAC,AAC9C,CAAC\"}"
};

const Cell = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { x } = $$props;
	let { y } = $$props;
	let { value } = $$props;
	let { number } = $$props;
	let { index } = $$props;
	let { custom } = $$props;
	let { changeDelay = 0 } = $$props;
	let { isRevealing = false } = $$props;
	let { isFocused = false } = $$props;
	let { isSecondarilyFocused = false } = $$props;

	let { onFocusCell = () => {
		
	} } = $$props;

	let { onCellUpdate = () => {
		
	} } = $$props;

	let { onFocusClueDiff = () => {
		
	} } = $$props;

	let { onMoveFocus = () => {
		
	} } = $$props;

	let { onFlipDirection = () => {
		
	} } = $$props;

	let { onHistoricalChange = () => {
		
	} } = $$props;

	let element;

	if ($$props.x === void 0 && $$bindings.x && x !== void 0) $$bindings.x(x);
	if ($$props.y === void 0 && $$bindings.y && y !== void 0) $$bindings.y(y);
	if ($$props.value === void 0 && $$bindings.value && value !== void 0) $$bindings.value(value);
	if ($$props.number === void 0 && $$bindings.number && number !== void 0) $$bindings.number(number);
	if ($$props.index === void 0 && $$bindings.index && index !== void 0) $$bindings.index(index);
	if ($$props.custom === void 0 && $$bindings.custom && custom !== void 0) $$bindings.custom(custom);
	if ($$props.changeDelay === void 0 && $$bindings.changeDelay && changeDelay !== void 0) $$bindings.changeDelay(changeDelay);
	if ($$props.isRevealing === void 0 && $$bindings.isRevealing && isRevealing !== void 0) $$bindings.isRevealing(isRevealing);
	if ($$props.isFocused === void 0 && $$bindings.isFocused && isFocused !== void 0) $$bindings.isFocused(isFocused);
	if ($$props.isSecondarilyFocused === void 0 && $$bindings.isSecondarilyFocused && isSecondarilyFocused !== void 0) $$bindings.isSecondarilyFocused(isSecondarilyFocused);
	if ($$props.onFocusCell === void 0 && $$bindings.onFocusCell && onFocusCell !== void 0) $$bindings.onFocusCell(onFocusCell);
	if ($$props.onCellUpdate === void 0 && $$bindings.onCellUpdate && onCellUpdate !== void 0) $$bindings.onCellUpdate(onCellUpdate);
	if ($$props.onFocusClueDiff === void 0 && $$bindings.onFocusClueDiff && onFocusClueDiff !== void 0) $$bindings.onFocusClueDiff(onFocusClueDiff);
	if ($$props.onMoveFocus === void 0 && $$bindings.onMoveFocus && onMoveFocus !== void 0) $$bindings.onMoveFocus(onMoveFocus);
	if ($$props.onFlipDirection === void 0 && $$bindings.onFlipDirection && onFlipDirection !== void 0) $$bindings.onFlipDirection(onFlipDirection);
	if ($$props.onHistoricalChange === void 0 && $$bindings.onHistoricalChange && onHistoricalChange !== void 0) $$bindings.onHistoricalChange(onHistoricalChange);
	$$result.css.add(css$2);

	return `

<g class="${[
		"cell " + escape(custom) + " svelte-1fqxzxj",
		(isFocused ? "is-focused" : "") + " " + (isSecondarilyFocused ? "is-secondarily-focused" : "")
	].join(" ").trim()}"${add_attribute("transform", `translate(${x}, ${y})`, 0)} id="${"cell-" + escape(x) + "-" + escape(y)}" tabIndex="${"0"}"${add_attribute("this", element, 1)}><rect width="${"1"}" height="${"1"}" class="${"svelte-1fqxzxj"}"></rect>${value
	? `<text class="${"value svelte-1fqxzxj"}" x="${"0.5"}" y="${"0.9"}" dominant-baseline="${"auto"}" text-anchor="${"middle"}">${escape(value)}</text>`
	: ``}<text class="${"number svelte-1fqxzxj"}" x="${"0.1"}" y="${"0.1"}" dominant-baseline="${"hanging"}" text-anchor="${"start"}">${escape(number)}</text></g>`;
});

/* src/Puzzle.svelte generated by Svelte v3.29.0 */

const css$3 = {
	code: "section.svelte-1c1duf7{flex:1;height:fit-content;order:-1}section.desktop.svelte-1c1duf7{position:sticky;top:1em;order:0}svg.svelte-1c1duf7{display:block;font-size:1px;background:var(--cell-void-color, #1a1a1a);border:4px solid var(--puzzle-border-color, #1a1a1a);font-family:var(--puzzle-font, -apple-system, Helvetica, sans-serif)}.keyboard.svelte-1c1duf7{order:3}.keyboard.desktop.svelte-1c1duf7{display:none}",
	map: "{\"version\":3,\"file\":\"Puzzle.svelte\",\"sources\":[\"Puzzle.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport Keyboard from \\\"./Keyboard.svelte\\\";\\n  import getSecondarilyFocusedCells from \\\"./helpers/getSecondarilyFocusedCells.js\\\";\\n  import getCellAfterDiff from \\\"./helpers/getCellAfterDiff.js\\\";\\n\\n  import Cell from \\\"./Cell.svelte\\\";\\n\\n  export let clues;\\n  export let cells;\\n  export let focusedDirection;\\n  export let focusedCellIndex;\\n  export let focusedCell;\\n  export let isRevealing;\\n\\texport let isDisableHighlight;\\n\\texport let desktop;\\n\\texport let revealDuration = 0;\\n\\n  let cellsHistoryIndex = 0;\\n  let cellsHistory = [];\\n  let focusedCellIndexHistoryIndex = 0;\\n  let focusedCellIndexHistory = [];\\n  const numberOfStatesInHistory = 10;\\n\\n  const w = Math.max(...cells.map((d) => d.x)) + 1;\\n  const h = Math.max(...cells.map((d) => d.y)) + 1;\\n\\n  let secondarilyFocusedCells = [];\\n\\t\\n\\tfunction updateSecondarilyFocusedCells() {\\n    secondarilyFocusedCells = getSecondarilyFocusedCells({\\n      cells,\\n      focusedDirection,\\n      focusedCell,\\n    });\\n\\t}\\n\\t\\n  $: cells, focusedCellIndex, focusedDirection, updateSecondarilyFocusedCells();\\n\\n  function onCellUpdate(index, newValue, diff = 1) {\\n    const doReplaceFilledCells = !!cells[index].value;\\n    const newCells = [\\n      ...cells.slice(0, index),\\n      { ...cells[index], value: newValue },\\n      ...cells.slice(index + 1),\\n    ];\\n    cellsHistory = [newCells, ...cellsHistory.slice(cellsHistoryIndex)].slice(\\n      0,\\n      numberOfStatesInHistory\\n    );\\n    cellsHistoryIndex = 0;\\n    cells = newCells;\\n\\n    onFocusCellDiff(diff, doReplaceFilledCells);\\n  }\\n\\n  function onHistoricalChange(diff) {\\n    cellsHistoryIndex += -diff;\\n    cells = cellsHistory[cellsHistoryIndex] || cells;\\n    focusedCellIndexHistoryIndex += -diff;\\n    focusedCellIndex =\\n      focusedCellIndexHistory[cellsHistoryIndex] || focusedCellIndex;\\n  }\\n\\n  function onFocusCell(index) {\\n    if (index == focusedCellIndex) {\\n      onFlipDirection();\\n    } else {\\n      focusedCellIndex = index;\\n      focusedCellIndexHistory = [\\n        index,\\n        ...focusedCellIndexHistory.slice(0, numberOfStatesInHistory),\\n      ];\\n      focusedCellIndexHistoryIndex = 0;\\n    }\\n  };\\n\\n  $: sortedCellsInDirection = [...cells].sort((a, b) =>\\n    focusedDirection == \\\"down\\\" ? a.x - b.x || a.y - b.y : a.y - b.y || a.x - b.x\\n  )\\n\\n  function onFocusCellDiff(diff, doReplaceFilledCells = true) {\\n    const sortedCellsInDirectionFiltered = sortedCellsInDirection.filter((d) =>\\n      doReplaceFilledCells ? true : !d.value\\n    );\\n    const currentCellIndex = sortedCellsInDirectionFiltered.findIndex(\\n      (d) => d.index == focusedCellIndex\\n    );\\n    const nextCellIndex = (\\n      sortedCellsInDirectionFiltered[currentCellIndex + diff] || {}\\n    ).index;\\n    const nextCell = cells[nextCellIndex];\\n    if (!nextCell) return;\\n    onFocusCell(nextCellIndex);\\n  }\\n\\n  function onFocusClueDiff(diff = 1) {\\n    const currentNumber = focusedCell.clueNumbers[focusedDirection];\\n    let nextCluesInDirection = clues.filter(\\n      (clue) =>\\n        (diff > 0\\n          ? clue.number > currentNumber\\n          : clue.number < currentNumber) && clue.direction == focusedDirection\\n    );\\n    if (diff < 0) {\\n      nextCluesInDirection = nextCluesInDirection.reverse();\\n    }\\n    let nextClue = nextCluesInDirection[Math.abs(diff) - 1];\\n    if (!nextClue) {\\n      onFlipDirection();\\n      nextClue = clues.filter((clue) => clue.direction == focusedDirection)[0];\\n    }\\n    focusedCellIndex = cells.findIndex(\\n      (cell) => cell.x == nextClue.x && cell.y == nextClue.y\\n    );\\n  }\\n\\n  function onMoveFocus(direction, diff) {\\n    if (focusedDirection != direction) {\\n      const dimension = direction == \\\"across\\\" ? \\\"x\\\" : \\\"y\\\";\\n      focusedDirection = direction;\\n    } else {\\n      const nextCell = getCellAfterDiff({\\n        diff,\\n        cells,\\n        direction,\\n        focusedCell,\\n      });\\n      if (!nextCell) return;\\n      onFocusCell(nextCell.index);\\n    }\\n  }\\n\\n  function onFlipDirection() {\\n    focusedDirection = {\\n      across: \\\"down\\\",\\n      down: \\\"across\\\",\\n    }[focusedDirection];\\n\\t}\\n\\t\\n\\tfunction onKeydown({ detail }) {\\n\\t\\tconst diff = detail === \\\"delete\\\" ? -1 : 1;\\n\\t\\tconst value = detail === \\\"delete\\\" ? \\\"\\\" : detail;\\n\\t\\tonCellUpdate(focusedCellIndex, value, diff);\\n\\t}\\n</script>\\n\\n<section class=\\\"puzzle\\\" class:desktop>\\n  <svg viewBox=\\\"0 0 {w} {h}\\\">\\n    <!-- svg -->\\n    {#each cells as { x, y, value, index, number, custom }}\\n      <Cell\\n        x=\\\"{x}\\\"\\n        y=\\\"{y}\\\"\\n        index=\\\"{index}\\\"\\n        value=\\\"{value}\\\"\\n        number=\\\"{number}\\\"\\n        custom=\\\"{custom}\\\"\\n        changeDelay=\\\"{isRevealing ? (revealDuration / cells.length) * index : 0}\\\"\\n        isRevealing=\\\"{isRevealing}\\\"\\n        isFocused=\\\"{focusedCellIndex == index && !isDisableHighlight}\\\"\\n        isSecondarilyFocused=\\\"{secondarilyFocusedCells.includes(index) && !isDisableHighlight}\\\"\\n        onFocusCell=\\\"{onFocusCell}\\\"\\n        onCellUpdate=\\\"{onCellUpdate}\\\"\\n        onFocusClueDiff=\\\"{onFocusClueDiff}\\\"\\n        onMoveFocus=\\\"{onMoveFocus}\\\"\\n        onFlipDirection=\\\"{onFlipDirection}\\\"\\n        onHistoricalChange=\\\"{onHistoricalChange}\\\" />\\n    {/each}\\n\\t</svg>\\n</section>\\n\\n<div class=\\\"keyboard\\\" class:desktop>\\n\\t<Keyboard on:keydown={onKeydown} />\\n</div>\\n\\n\\n<style>\\n  section {\\n    flex: 1;\\n    height: fit-content;\\n\\t\\torder: -1;\\n  }\\n\\tsection.desktop {\\n\\t\\t\\tposition: sticky;\\n    \\ttop: 1em;\\n\\t\\t\\torder: 0;\\n\\t}\\n  svg {\\n    display: block;\\n    font-size: 1px;\\n    background: var(--cell-void-color, #1a1a1a);\\n    border: 4px solid var(--puzzle-border-color, #1a1a1a);\\n    font-family: var(--puzzle-font, -apple-system, Helvetica, sans-serif);\\n  }\\n\\t.keyboard {\\n\\t\\torder: 3;\\n\\t}\\n\\t.keyboard.desktop {\\n\\t\\tdisplay: none;\\n\\t}\\n</style>\\n\"],\"names\":[],\"mappings\":\"AAiLE,OAAO,eAAC,CAAC,AACP,IAAI,CAAE,CAAC,CACP,MAAM,CAAE,WAAW,CACrB,KAAK,CAAE,EAAE,AACT,CAAC,AACF,OAAO,QAAQ,eAAC,CAAC,AACf,QAAQ,CAAE,MAAM,CACd,GAAG,CAAE,GAAG,CACV,KAAK,CAAE,CAAC,AACV,CAAC,AACA,GAAG,eAAC,CAAC,AACH,OAAO,CAAE,KAAK,CACd,SAAS,CAAE,GAAG,CACd,UAAU,CAAE,IAAI,iBAAiB,CAAC,QAAQ,CAAC,CAC3C,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,qBAAqB,CAAC,QAAQ,CAAC,CACrD,WAAW,CAAE,IAAI,aAAa,CAAC,qCAAqC,CAAC,AACvE,CAAC,AACF,SAAS,eAAC,CAAC,AACV,KAAK,CAAE,CAAC,AACT,CAAC,AACD,SAAS,QAAQ,eAAC,CAAC,AAClB,OAAO,CAAE,IAAI,AACd,CAAC\"}"
};

const numberOfStatesInHistory = 10;

const Puzzle = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { clues } = $$props;
	let { cells } = $$props;
	let { focusedDirection } = $$props;
	let { focusedCellIndex } = $$props;
	let { focusedCell } = $$props;
	let { isRevealing } = $$props;
	let { isDisableHighlight } = $$props;
	let { desktop } = $$props;
	let { revealDuration = 0 } = $$props;
	let cellsHistoryIndex = 0;
	let cellsHistory = [];
	let focusedCellIndexHistory = [];
	const w = Math.max(...cells.map(d => d.x)) + 1;
	const h = Math.max(...cells.map(d => d.y)) + 1;
	let secondarilyFocusedCells = [];

	function updateSecondarilyFocusedCells() {
		secondarilyFocusedCells = getSecondarilyFocusedCells({ cells, focusedDirection, focusedCell });
	}

	function onCellUpdate(index, newValue, diff = 1) {
		const doReplaceFilledCells = !!cells[index].value;

		const newCells = [
			...cells.slice(0, index),
			{ ...cells[index], value: newValue },
			...cells.slice(index + 1)
		];

		cellsHistory = [newCells, ...cellsHistory.slice(cellsHistoryIndex)].slice(0, numberOfStatesInHistory);
		cellsHistoryIndex = 0;
		cells = newCells;
		onFocusCellDiff(diff, doReplaceFilledCells);
	}

	function onHistoricalChange(diff) {
		cellsHistoryIndex += -diff;
		cells = cellsHistory[cellsHistoryIndex] || cells;
		focusedCellIndex = focusedCellIndexHistory[cellsHistoryIndex] || focusedCellIndex;
	}

	function onFocusCell(index) {
		if (index == focusedCellIndex) {
			onFlipDirection();
		} else {
			focusedCellIndex = index;
			focusedCellIndexHistory = [index, ...focusedCellIndexHistory.slice(0, numberOfStatesInHistory)];
		}
	}

	

	function onFocusCellDiff(diff, doReplaceFilledCells = true) {
		const sortedCellsInDirectionFiltered = sortedCellsInDirection.filter(d => doReplaceFilledCells ? true : !d.value);
		const currentCellIndex = sortedCellsInDirectionFiltered.findIndex(d => d.index == focusedCellIndex);
		const nextCellIndex = (sortedCellsInDirectionFiltered[currentCellIndex + diff] || {}).index;
		const nextCell = cells[nextCellIndex];
		if (!nextCell) return;
		onFocusCell(nextCellIndex);
	}

	function onFocusClueDiff(diff = 1) {
		const currentNumber = focusedCell.clueNumbers[focusedDirection];

		let nextCluesInDirection = clues.filter(clue => (diff > 0
		? clue.number > currentNumber
		: clue.number < currentNumber) && clue.direction == focusedDirection);

		if (diff < 0) {
			nextCluesInDirection = nextCluesInDirection.reverse();
		}

		let nextClue = nextCluesInDirection[Math.abs(diff) - 1];

		if (!nextClue) {
			onFlipDirection();
			nextClue = clues.filter(clue => clue.direction == focusedDirection)[0];
		}

		focusedCellIndex = cells.findIndex(cell => cell.x == nextClue.x && cell.y == nextClue.y);
	}

	function onMoveFocus(direction, diff) {
		if (focusedDirection != direction) {
			focusedDirection = direction;
		} else {
			const nextCell = getCellAfterDiff({ diff, cells, direction, focusedCell });
			if (!nextCell) return;
			onFocusCell(nextCell.index);
		}
	}

	function onFlipDirection() {
		focusedDirection = ({ across: "down", down: "across" })[focusedDirection];
	}

	if ($$props.clues === void 0 && $$bindings.clues && clues !== void 0) $$bindings.clues(clues);
	if ($$props.cells === void 0 && $$bindings.cells && cells !== void 0) $$bindings.cells(cells);
	if ($$props.focusedDirection === void 0 && $$bindings.focusedDirection && focusedDirection !== void 0) $$bindings.focusedDirection(focusedDirection);
	if ($$props.focusedCellIndex === void 0 && $$bindings.focusedCellIndex && focusedCellIndex !== void 0) $$bindings.focusedCellIndex(focusedCellIndex);
	if ($$props.focusedCell === void 0 && $$bindings.focusedCell && focusedCell !== void 0) $$bindings.focusedCell(focusedCell);
	if ($$props.isRevealing === void 0 && $$bindings.isRevealing && isRevealing !== void 0) $$bindings.isRevealing(isRevealing);
	if ($$props.isDisableHighlight === void 0 && $$bindings.isDisableHighlight && isDisableHighlight !== void 0) $$bindings.isDisableHighlight(isDisableHighlight);
	if ($$props.desktop === void 0 && $$bindings.desktop && desktop !== void 0) $$bindings.desktop(desktop);
	if ($$props.revealDuration === void 0 && $$bindings.revealDuration && revealDuration !== void 0) $$bindings.revealDuration(revealDuration);
	$$result.css.add(css$3);
	let sortedCellsInDirection;

	 {
		(updateSecondarilyFocusedCells());
	}

	sortedCellsInDirection = [...cells].sort((a, b) => focusedDirection == "down"
	? a.x - b.x || a.y - b.y
	: a.y - b.y || a.x - b.x);

	return `<section class="${["puzzle svelte-1c1duf7", desktop ? "desktop" : ""].join(" ").trim()}"><svg viewBox="${"0 0 " + escape(w) + " " + escape(h)}" class="${"svelte-1c1duf7"}">${each(cells, ({ x, y, value, index, number, custom }) => `${validate_component(Cell, "Cell").$$render(
		$$result,
		{
			x,
			y,
			index,
			value,
			number,
			custom,
			changeDelay: isRevealing ? revealDuration / cells.length * index : 0,
			isRevealing,
			isFocused: focusedCellIndex == index && !isDisableHighlight,
			isSecondarilyFocused: secondarilyFocusedCells.includes(index) && !isDisableHighlight,
			onFocusCell,
			onCellUpdate,
			onFocusClueDiff,
			onMoveFocus,
			onFlipDirection,
			onHistoricalChange
		},
		{},
		{}
	)}`)}</svg></section>

<div class="${["keyboard svelte-1c1duf7", desktop ? "desktop" : ""].join(" ").trim()}">${validate_component(Keyboard, "Keyboard").$$render($$result, {}, {}, {})}
</div>`;
});

/* src/Clue.svelte generated by Svelte v3.29.0 */

const css$4 = {
	code: "button.svelte-1jz5ixd{display:block;width:100%;background:none;text-align:left;appearance:none;outline:none;border:1px solid transparent;border-left:6px solid transparent;padding:0.5em;cursor:pointer;line-height:1.325;color:var(--clue-text-color, #1a1a1a);font-family:var(--clue-font, -apple-system, Helvetica, sans-serif);font-size:1em;cursor:pointer}.clue.svelte-1jz5ixd:focus{border-color:var(--cell-highlight-color, #ffec99)}.is-number-focused.svelte-1jz5ixd{border-left-color:var(--cell-highlight-color, #ffec99)}.is-number-focused.is-direction-focused.svelte-1jz5ixd{background:var(--cell-highlight-color, #ffec99)}.is-filled.svelte-1jz5ixd{opacity:0.33}",
	map: "{\"version\":3,\"file\":\"Clue.svelte\",\"sources\":[\"Clue.svelte\"],\"sourcesContent\":[\"<script>\\n  import scrollTo from \\\"./helpers/scroll-to\\\";\\n\\n  export let number;\\n  export let clue;\\n\\texport let isFilled;\\n  export let isNumberFocused = false;\\n  export let isDirectionFocused = false;\\n  export let onFocus = () => {};\\n\\n  let element;\\n\\n  $: isFocused = isNumberFocused;\\n</script>\\n\\n<li bind:this=\\\"{element}\\\" use:scrollTo=\\\"{isFocused}\\\">\\n  <button\\n    class=\\\"clue\\\"\\n    class:is-number-focused=\\\"{isNumberFocused}\\\"\\n    class:is-direction-focused=\\\"{isDirectionFocused}\\\"\\n\\t\\tclass:is-filled=\\\"{isFilled}\\\"\\n    on:click=\\\"{onFocus}\\\">\\n    {number}.\\n    {clue}\\n  </button>\\n</li>\\n\\n<style>\\n  button {\\n    display: block;\\n    width: 100%;\\n    background: none;\\n    text-align: left;\\n    appearance: none;\\n    outline: none;\\n    border: 1px solid transparent;\\n    border-left: 6px solid transparent;\\n    padding: 0.5em;\\n    cursor: pointer;\\n    line-height: 1.325;\\n    color: var(--clue-text-color, #1a1a1a);\\n    font-family: var(--clue-font, -apple-system, Helvetica, sans-serif);\\n    font-size: 1em;\\n\\t\\tcursor: pointer;\\n  }\\n  .clue:focus {\\n    border-color: var(--cell-highlight-color, #ffec99);\\n  }\\n  .is-number-focused {\\n    border-left-color: var(--cell-highlight-color, #ffec99);\\n  }\\n  .is-number-focused.is-direction-focused {\\n    background: var(--cell-highlight-color, #ffec99);\\n  }\\n\\t.is-filled {\\n\\t\\topacity: 0.33;\\n\\t}\\n</style>\\n\"],\"names\":[],\"mappings\":\"AA4BE,MAAM,eAAC,CAAC,AACN,OAAO,CAAE,KAAK,CACd,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,WAAW,CAC7B,WAAW,CAAE,GAAG,CAAC,KAAK,CAAC,WAAW,CAClC,OAAO,CAAE,KAAK,CACd,MAAM,CAAE,OAAO,CACf,WAAW,CAAE,KAAK,CAClB,KAAK,CAAE,IAAI,iBAAiB,CAAC,QAAQ,CAAC,CACtC,WAAW,CAAE,IAAI,WAAW,CAAC,qCAAqC,CAAC,CACnE,SAAS,CAAE,GAAG,CAChB,MAAM,CAAE,OAAO,AACf,CAAC,AACD,oBAAK,MAAM,AAAC,CAAC,AACX,YAAY,CAAE,IAAI,sBAAsB,CAAC,QAAQ,CAAC,AACpD,CAAC,AACD,kBAAkB,eAAC,CAAC,AAClB,iBAAiB,CAAE,IAAI,sBAAsB,CAAC,QAAQ,CAAC,AACzD,CAAC,AACD,kBAAkB,qBAAqB,eAAC,CAAC,AACvC,UAAU,CAAE,IAAI,sBAAsB,CAAC,QAAQ,CAAC,AAClD,CAAC,AACF,UAAU,eAAC,CAAC,AACX,OAAO,CAAE,IAAI,AACd,CAAC\"}"
};

const Clue = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { number } = $$props;
	let { clue } = $$props;
	let { isFilled } = $$props;
	let { isNumberFocused = false } = $$props;
	let { isDirectionFocused = false } = $$props;

	let { onFocus = () => {
		
	} } = $$props;

	let element;
	if ($$props.number === void 0 && $$bindings.number && number !== void 0) $$bindings.number(number);
	if ($$props.clue === void 0 && $$bindings.clue && clue !== void 0) $$bindings.clue(clue);
	if ($$props.isFilled === void 0 && $$bindings.isFilled && isFilled !== void 0) $$bindings.isFilled(isFilled);
	if ($$props.isNumberFocused === void 0 && $$bindings.isNumberFocused && isNumberFocused !== void 0) $$bindings.isNumberFocused(isNumberFocused);
	if ($$props.isDirectionFocused === void 0 && $$bindings.isDirectionFocused && isDirectionFocused !== void 0) $$bindings.isDirectionFocused(isDirectionFocused);
	if ($$props.onFocus === void 0 && $$bindings.onFocus && onFocus !== void 0) $$bindings.onFocus(onFocus);
	$$result.css.add(css$4);

	return `<li${add_attribute("this", element, 1)}><button class="${[
		"clue svelte-1jz5ixd",
		(isNumberFocused ? "is-number-focused" : "") + " " + (isDirectionFocused ? "is-direction-focused" : "") + " " + (isFilled ? "is-filled" : "")
	].join(" ").trim()}">${escape(number)}.
    ${escape(clue)}</button>
</li>`;
});

/* src/ClueList.svelte generated by Svelte v3.29.0 */

const css$5 = {
	code: ".list.svelte-jdhgl{position:relative;max-height:45vh;margin-bottom:2em;overflow:auto}p.svelte-jdhgl{font-family:var(--clue-font, -apple-system, Helvetica, sans-serif);color:var(--clue-text-color, #1a1a1a);font-weight:700;text-transform:uppercase;padding-left:calc(0.5em + 6px);margin:0}ul.svelte-jdhgl{list-style-type:none;padding-left:0;margin:0;margin-top:1em}.svelte-jdhgl::-moz-scrollbar{width:9px}.svelte-jdhgl::-webkit-scrollbar{width:9px}.svelte-jdhgl::-moz-scrollbar-track{box-shadow:none;border-radius:10px;background:var(--clue-scrollbar-bg, #efefef)}.svelte-jdhgl::-webkit-scrollbar-track{box-shadow:none;border-radius:10px;background:var(--clue-scrollbar-bg, #efefef)}.svelte-jdhgl::scrollbar-thumb{border-radius:10px;background:var(--clue-scrollbar-fg, #cdcdcd);box-shadow:none}.svelte-jdhgl::-moz-scrollbar-thumb{background:var(--clue-scrollbar-fg, #cdcdcd);border-radius:6px}.svelte-jdhgl::-webkit-scrollbar-thumb{background:var(--clue-scrollbar-fg, #cdcdcd);border-radius:6px}",
	map: "{\"version\":3,\"file\":\"ClueList.svelte\",\"sources\":[\"ClueList.svelte\"],\"sourcesContent\":[\"<script>\\n  import Clue from \\\"./Clue.svelte\\\";\\n\\n  export let direction;\\n  export let clues;\\n  export let focusedClueNumbers;\\n  export let isDirectionFocused;\\n\\texport let onClueFocus;\\n\\t\\n</script>\\n\\n<div class=\\\"list\\\">\\n  <p>{direction}</p>\\n  <ul>\\n    {#each clues as clue}\\n      <Clue\\n        clue=\\\"{clue.clue}\\\"\\n        number=\\\"{clue.number}\\\"\\n\\t\\t\\t\\tisFilled=\\\"{clue.isFilled}\\\"\\n        isNumberFocused=\\\"{focusedClueNumbers[direction] === clue.number}\\\"\\n        isDirectionFocused=\\\"{isDirectionFocused}\\\"\\n        onFocus=\\\"{() => onClueFocus(clue)}\\\" />\\n    {/each}\\n  </ul>\\n</div>\\n\\n<style>\\n  .list {\\n    position: relative;\\n    max-height: 45vh;\\n    margin-bottom: 2em;\\n    overflow: auto;\\n  }\\n\\n  p {\\n    font-family: var(--clue-font, -apple-system, Helvetica, sans-serif);\\n\\t\\tcolor: var(--clue-text-color, #1a1a1a);\\n\\t\\tfont-weight: 700;\\n    text-transform: uppercase;\\n    padding-left: calc(0.5em + 6px);\\n    margin: 0;\\n  }\\n\\n  ul {\\n    list-style-type: none;\\n    padding-left: 0;\\n    margin: 0;\\n    margin-top: 1em;\\n  }\\n\\n  ::-moz-scrollbar {\\n    width: 9px;\\n  }\\n  ::-webkit-scrollbar {\\n    width: 9px;\\n  }\\n\\n  ::-moz-scrollbar-track {\\n    box-shadow: none;\\n    border-radius: 10px;\\n    background: var(--clue-scrollbar-bg, #efefef);\\n  }\\n  ::-webkit-scrollbar-track {\\n    box-shadow: none;\\n    border-radius: 10px;\\n    background: var(--clue-scrollbar-bg, #efefef);\\n  }\\n  ::scrollbar-thumb {\\n    border-radius: 10px;\\n    background: var(--clue-scrollbar-fg, #cdcdcd);\\n    box-shadow: none;\\n  }\\n  ::-moz-scrollbar-thumb {\\n    background: var(--clue-scrollbar-fg, #cdcdcd);\\n    border-radius: 6px;\\n  }\\n  ::-webkit-scrollbar-thumb {\\n    background: var(--clue-scrollbar-fg, #cdcdcd);\\n    border-radius: 6px;\\n  }\\n</style>\\n\"],\"names\":[],\"mappings\":\"AA2BE,KAAK,aAAC,CAAC,AACL,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,GAAG,CAClB,QAAQ,CAAE,IAAI,AAChB,CAAC,AAED,CAAC,aAAC,CAAC,AACD,WAAW,CAAE,IAAI,WAAW,CAAC,qCAAqC,CAAC,CACrE,KAAK,CAAE,IAAI,iBAAiB,CAAC,QAAQ,CAAC,CACtC,WAAW,CAAE,GAAG,CACd,cAAc,CAAE,SAAS,CACzB,YAAY,CAAE,KAAK,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAC/B,MAAM,CAAE,CAAC,AACX,CAAC,AAED,EAAE,aAAC,CAAC,AACF,eAAe,CAAE,IAAI,CACrB,YAAY,CAAE,CAAC,CACf,MAAM,CAAE,CAAC,CACT,UAAU,CAAE,GAAG,AACjB,CAAC,aAED,gBAAgB,AAAC,CAAC,AAChB,KAAK,CAAE,GAAG,AACZ,CAAC,aACD,mBAAmB,AAAC,CAAC,AACnB,KAAK,CAAE,GAAG,AACZ,CAAC,aAED,sBAAsB,AAAC,CAAC,AACtB,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,AAC/C,CAAC,aACD,yBAAyB,AAAC,CAAC,AACzB,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,AAC/C,CAAC,aACD,iBAAiB,AAAC,CAAC,AACjB,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CAC7C,UAAU,CAAE,IAAI,AAClB,CAAC,aACD,sBAAsB,AAAC,CAAC,AACtB,UAAU,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CAC7C,aAAa,CAAE,GAAG,AACpB,CAAC,aACD,yBAAyB,AAAC,CAAC,AACzB,UAAU,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CAC7C,aAAa,CAAE,GAAG,AACpB,CAAC\"}"
};

const ClueList = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { direction } = $$props;
	let { clues } = $$props;
	let { focusedClueNumbers } = $$props;
	let { isDirectionFocused } = $$props;
	let { onClueFocus } = $$props;
	if ($$props.direction === void 0 && $$bindings.direction && direction !== void 0) $$bindings.direction(direction);
	if ($$props.clues === void 0 && $$bindings.clues && clues !== void 0) $$bindings.clues(clues);
	if ($$props.focusedClueNumbers === void 0 && $$bindings.focusedClueNumbers && focusedClueNumbers !== void 0) $$bindings.focusedClueNumbers(focusedClueNumbers);
	if ($$props.isDirectionFocused === void 0 && $$bindings.isDirectionFocused && isDirectionFocused !== void 0) $$bindings.isDirectionFocused(isDirectionFocused);
	if ($$props.onClueFocus === void 0 && $$bindings.onClueFocus && onClueFocus !== void 0) $$bindings.onClueFocus(onClueFocus);
	$$result.css.add(css$5);

	return `<div class="${"list svelte-jdhgl"}"><p class="${"svelte-jdhgl"}">${escape(direction)}</p>
  <ul class="${"svelte-jdhgl"}">${each(clues, clue => `${validate_component(Clue, "Clue").$$render(
		$$result,
		{
			clue: clue.clue,
			number: clue.number,
			isFilled: clue.isFilled,
			isNumberFocused: focusedClueNumbers[direction] === clue.number,
			isDirectionFocused,
			onFocus: () => onClueFocus(clue)
		},
		{},
		{}
	)}`)}</ul>
</div>`;
});

/* src/ClueBar.svelte generated by Svelte v3.29.0 */

const css$6 = {
	code: ".bar.svelte-l3aybd{width:100%;display:flex;justify-content:space-between;background-color:#efefef}p.svelte-l3aybd{padding:0 1em;line-height:1.325}button.svelte-l3aybd{cursor:pointer;font-size:1em;border:none;line-height:1}",
	map: "{\"version\":3,\"file\":\"ClueBar.svelte\",\"sources\":[\"ClueBar.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { createEventDispatcher } from 'svelte';\\n  const dispatch = createEventDispatcher();\\n\\n\\texport let currentClue;\\n\\t$: clue = currentClue[\\\"clue\\\"];\\n</script>\\n\\n\\n<div class=\\\"bar\\\">\\n\\t<button on:click={() => dispatch(\\\"nextClue\\\", currentClue.index - 1)}>\\n\\t\\t<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"feather feather-chevron-left\\\"><polyline points=\\\"15 18 9 12 15 6\\\"></polyline></svg>\\n\\t</button>\\n\\t<p>{clue}</p>\\n\\t<button on:click={() => dispatch(\\\"nextClue\\\", currentClue.index + 1)}>\\n\\t\\t<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"feather feather-chevron-right\\\"><polyline points=\\\"9 18 15 12 9 6\\\"></polyline></svg>\\n\\t</button>\\n</div>\\n\\n<style>\\n\\t.bar {\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t\\tbackground-color: #efefef;\\n\\t}\\n\\n\\tp {\\n\\t\\tpadding: 0 1em;\\n\\t\\tline-height: 1.325;\\n\\t}\\n\\t\\n\\tbutton {\\n    cursor: pointer;\\n\\t\\tfont-size: 1em;\\n\\t\\tborder: none;\\n\\t\\tline-height: 1;\\n  }\\n</style>\\n\\n\"],\"names\":[],\"mappings\":\"AAoBC,IAAI,cAAC,CAAC,AACL,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,gBAAgB,CAAE,OAAO,AAC1B,CAAC,AAED,CAAC,cAAC,CAAC,AACF,OAAO,CAAE,CAAC,CAAC,GAAG,CACd,WAAW,CAAE,KAAK,AACnB,CAAC,AAED,MAAM,cAAC,CAAC,AACL,MAAM,CAAE,OAAO,CACjB,SAAS,CAAE,GAAG,CACd,MAAM,CAAE,IAAI,CACZ,WAAW,CAAE,CAAC,AACd,CAAC\"}"
};

const ClueBar = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	const dispatch = createEventDispatcher();
	let { currentClue } = $$props;
	if ($$props.currentClue === void 0 && $$bindings.currentClue && currentClue !== void 0) $$bindings.currentClue(currentClue);
	$$result.css.add(css$6);
	let clue;
	clue = currentClue["clue"];

	return `<div class="${"bar svelte-l3aybd"}"><button class="${"svelte-l3aybd"}"><svg width="${"24"}" height="${"24"}" viewBox="${"0 0 24 24"}" fill="${"none"}" stroke="${"currentColor"}" stroke-width="${"2"}" stroke-linecap="${"round"}" stroke-linejoin="${"round"}" class="${"feather feather-chevron-left"}"><polyline points="${"15 18 9 12 15 6"}"></polyline></svg></button>
	<p class="${"svelte-l3aybd"}">${escape(clue)}</p>
	<button class="${"svelte-l3aybd"}"><svg width="${"24"}" height="${"24"}" viewBox="${"0 0 24 24"}" fill="${"none"}" stroke="${"currentColor"}" stroke-width="${"2"}" stroke-linecap="${"round"}" stroke-linejoin="${"round"}" class="${"feather feather-chevron-right"}"><polyline points="${"9 18 15 12 9 6"}"></polyline></svg></button>
</div>`;
});

/* src/Clues.svelte generated by Svelte v3.29.0 */

const css$7 = {
	code: "section.desktop.svelte-6yiw7h{position:sticky;top:1em;flex:0 1 var(--clue-list-width, 16em);height:fit-content;margin:0 1em}.clues--mobile.svelte-6yiw7h{display:block;margin:2em 0}.clues--mobile.desktop.svelte-6yiw7h{display:none}.clues--desktop.svelte-6yiw7h{display:none}.clues--desktop.desktop.svelte-6yiw7h{display:block}",
	map: "{\"version\":3,\"file\":\"Clues.svelte\",\"sources\":[\"Clues.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport ClueList from \\\"./ClueList.svelte\\\";\\n\\timport ClueBar from \\\"./ClueBar.svelte\\\";\\n\\n  export let clues;\\n  export let cellIndexMap;\\n  export let focusedDirection;\\n  export let focusedCellIndex;\\n\\texport let focusedCell;\\n\\texport let desktop;\\n\\n\\t$: focusedClueNumbers = focusedCell.clueNumbers || {};\\n\\t$: currentClue = clues.find(c => c.direction === focusedDirection && c.number === focusedClueNumbers[focusedDirection]);\\n\\n  function onClueFocus({ direction, id }) {\\n    focusedDirection = direction;\\n    focusedCellIndex = cellIndexMap[id] || 0;\\n\\t}\\n\\n\\n\\tfunction onNextClue({ detail }) {\\n\\t\\tlet next = detail;\\n\\t\\tif (next < 0) next = clues.length - 1;\\n\\t\\telse if (next > clues.length - 1) next = 0;\\n\\t\\tconst { direction, id } = clues[next];\\n\\t\\tonClueFocus({ direction, id });\\n\\t}\\n</script>\\n\\n<section class=\\\"clues\\\" class:desktop>\\n\\t<div class=\\\"clues--desktop\\\" class:desktop>\\n  {#each ['across', 'down'] as direction}\\n    <ClueList\\n      direction=\\\"{direction}\\\"\\n      focusedClueNumbers=\\\"{focusedClueNumbers}\\\"\\n      clues=\\\"{clues.filter((d) => d.direction === direction)}\\\"\\n      isDirectionFocused=\\\"{focusedDirection === direction}\\\"\\n      onClueFocus=\\\"{onClueFocus}\\\" />\\n\\t{/each}\\n\\t</div>\\n\\t<div class=\\\"clues--mobile\\\" class:desktop>\\n\\t\\t<ClueBar {currentClue} on:nextClue=\\\"{onNextClue}\\\" />\\n\\t</div>\\n</section>\\n\\n<style>\\n\\tsection.desktop {\\n\\t\\t\\tposition: sticky;\\n\\t\\t\\ttop: 1em;\\n\\t\\t\\tflex: 0 1 var(--clue-list-width, 16em);\\n\\t\\t\\theight: fit-content;\\n    \\tmargin: 0 1em;\\n\\t\\t}\\n\\t\\n\\t.clues--mobile {\\n\\t\\tdisplay: block;\\n\\t\\tmargin: 2em 0;\\n\\t}\\n\\t\\n\\t.clues--mobile.desktop {\\n\\t\\tdisplay: none;\\n\\t}\\n\\t\\n\\t.clues--desktop {\\n\\t\\tdisplay: none;\\n\\t}\\n\\t\\n\\t.clues--desktop.desktop {\\n\\t\\tdisplay: block;\\n\\t}\\n</style>\\n\"],\"names\":[],\"mappings\":\"AA8CC,OAAO,QAAQ,cAAC,CAAC,AACf,QAAQ,CAAE,MAAM,CAChB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,iBAAiB,CAAC,KAAK,CAAC,CACtC,MAAM,CAAE,WAAW,CACjB,MAAM,CAAE,CAAC,CAAC,GAAG,AAChB,CAAC,AAEF,cAAc,cAAC,CAAC,AACf,OAAO,CAAE,KAAK,CACd,MAAM,CAAE,GAAG,CAAC,CAAC,AACd,CAAC,AAED,cAAc,QAAQ,cAAC,CAAC,AACvB,OAAO,CAAE,IAAI,AACd,CAAC,AAED,eAAe,cAAC,CAAC,AAChB,OAAO,CAAE,IAAI,AACd,CAAC,AAED,eAAe,QAAQ,cAAC,CAAC,AACxB,OAAO,CAAE,KAAK,AACf,CAAC\"}"
};

const Clues = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { clues } = $$props;
	let { cellIndexMap } = $$props;
	let { focusedDirection } = $$props;
	let { focusedCellIndex } = $$props;
	let { focusedCell } = $$props;
	let { desktop } = $$props;

	function onClueFocus({ direction, id }) {
		focusedDirection = direction;
		focusedCellIndex = cellIndexMap[id] || 0;
	}

	if ($$props.clues === void 0 && $$bindings.clues && clues !== void 0) $$bindings.clues(clues);
	if ($$props.cellIndexMap === void 0 && $$bindings.cellIndexMap && cellIndexMap !== void 0) $$bindings.cellIndexMap(cellIndexMap);
	if ($$props.focusedDirection === void 0 && $$bindings.focusedDirection && focusedDirection !== void 0) $$bindings.focusedDirection(focusedDirection);
	if ($$props.focusedCellIndex === void 0 && $$bindings.focusedCellIndex && focusedCellIndex !== void 0) $$bindings.focusedCellIndex(focusedCellIndex);
	if ($$props.focusedCell === void 0 && $$bindings.focusedCell && focusedCell !== void 0) $$bindings.focusedCell(focusedCell);
	if ($$props.desktop === void 0 && $$bindings.desktop && desktop !== void 0) $$bindings.desktop(desktop);
	$$result.css.add(css$7);
	let focusedClueNumbers;
	let currentClue;
	focusedClueNumbers = focusedCell.clueNumbers || {};
	currentClue = clues.find(c => c.direction === focusedDirection && c.number === focusedClueNumbers[focusedDirection]);

	return `<section class="${["clues svelte-6yiw7h", desktop ? "desktop" : ""].join(" ").trim()}"><div class="${["clues--desktop svelte-6yiw7h", desktop ? "desktop" : ""].join(" ").trim()}">${each(["across", "down"], direction => `${validate_component(ClueList, "ClueList").$$render(
		$$result,
		{
			direction,
			focusedClueNumbers,
			clues: clues.filter(d => d.direction === direction),
			isDirectionFocused: focusedDirection === direction,
			onClueFocus
		},
		{},
		{}
	)}`)}</div>
	<div class="${["clues--mobile svelte-6yiw7h", desktop ? "desktop" : ""].join(" ").trim()}">${validate_component(ClueBar, "ClueBar").$$render($$result, { currentClue }, {}, {})}</div>
</section>`;
});

function quadIn(t) {
    return t * t;
}

/* src/Confetti.svelte generated by Svelte v3.29.0 */

const css$8 = {
	code: ".confetti.svelte-15wt7c8{width:2em;position:absolute;stroke-linecap:round;stroke-linejoin:round;fill-rule:evenodd;clip-rule:evenodd;pointer-events:none;overflow:visible;transform:translate(-50%, -50%)}@keyframes svelte-15wt7c8-pop{0%{transform:rotate(var(--rotation)) scale(1) translate(0em, 0em)}100%{transform:rotate(calc(var(--rotation) + 60deg)) scale(0)\n        translate(9em, 9em);fill:white}}g.svelte-15wt7c8{transition:all 0.5s ease-out;transform:rotate(var(--rotation)) scale(0) translate(0, 0);animation:svelte-15wt7c8-pop 2s ease-out;animation-iteration-count:infinite}",
	map: "{\"version\":3,\"file\":\"Confetti.svelte\",\"sources\":[\"Confetti.svelte\"],\"sourcesContent\":[\"<script>\\n  import { quadIn } from \\\"svelte/easing\\\";\\n\\n  export let numberOfElements = 50;\\n  export let durationInSeconds = 2;\\n  export let colors = [\\n    \\\"#fff\\\",\\n    \\\"#c7ecee\\\",\\n    \\\"#778beb\\\",\\n    \\\"#f7d794\\\",\\n    \\\"#63cdda\\\",\\n    \\\"#cf6a87\\\",\\n    \\\"#e77f67\\\",\\n    \\\"#786fa6\\\",\\n    \\\"#FDA7DF\\\",\\n    \\\"#4b7bec\\\",\\n    \\\"#475c83\\\",\\n  ];\\n\\n  const pickFrom = (arr) => arr[Math.round(Math.random() * arr.length)];\\n  const randomNumber = (min, max) => Math.random() * (max - min) + min;\\n  const getManyOf = (str) => new Array(30).fill(0).map(() => str);\\n\\n  const elementOptions = [\\n    ...getManyOf(`<circle r=\\\"3\\\" />`),\\n    ...getManyOf(\\n      `<path d=\\\"M3.83733 4.73234C4.38961 4.73234 4.83733 4.28463 4.83733 3.73234C4.83733 3.18006 4.38961 2.73234 3.83733 2.73234C3.28505 2.73234 2.83733 3.18006 2.83733 3.73234C2.83733 4.28463 3.28505 4.73234 3.83733 4.73234ZM3.83733 6.73234C5.49418 6.73234 6.83733 5.38919 6.83733 3.73234C6.83733 2.07549 5.49418 0.732341 3.83733 0.732341C2.18048 0.732341 0.83733 2.07549 0.83733 3.73234C0.83733 5.38919 2.18048 6.73234 3.83733 6.73234Z\\\" />`\\n    ),\\n    ...getManyOf(\\n      `<path d=\\\"M4.29742 2.26041C3.86864 2.1688 3.20695 2.21855 2.13614 3.0038C1.69078 3.33041 1.06498 3.23413 0.738375 2.78876C0.411774 2.3434 0.508051 1.7176 0.953417 1.39099C2.32237 0.387097 3.55827 0.0573281 4.71534 0.304565C5.80081 0.536504 6.61625 1.24716 7.20541 1.78276C7.28295 1.85326 7.35618 1.92051 7.4263 1.9849C7.64841 2.18888 7.83929 2.36418 8.03729 2.52315C8.29108 2.72692 8.48631 2.8439 8.64952 2.90181C8.7915 2.95219 8.91895 2.96216 9.07414 2.92095C9.24752 2.8749 9.5134 2.7484 9.88467 2.42214C10.2995 2.05757 10.9314 2.09833 11.2959 2.51319C11.6605 2.92805 11.6198 3.5599 11.2049 3.92447C10.6816 4.38435 10.1478 4.70514 9.58752 4.85394C9.00909 5.00756 8.469 4.95993 7.9807 4.78667C7.51364 4.62093 7.11587 4.34823 6.78514 4.08268C6.53001 3.87783 6.27248 3.64113 6.04114 3.4285C5.97868 3.37109 5.91814 3.31544 5.86006 3.26264C5.25645 2.7139 4.79779 2.36733 4.29742 2.26041Z\\\" />`\\n    ),\\n    ...getManyOf(`<rect width=\\\"4\\\" height=\\\"4\\\" x=\\\"-2\\\" y=\\\"-2\\\" />`),\\n    `<path d=\\\"M -5 5 L 0 -5 L 5 5 Z\\\" />`,\\n    ...\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\\\"\\n      .split(\\\"\\\")\\n      .map((letter) => `<text style=\\\"font-weight: 700\\\">${letter}</text>`),\\n  ];\\n\\n  const allElements = new Array(numberOfElements)\\n    .fill(0)\\n    .map((_, i) => [pickFrom(elementOptions), pickFrom(colors), Math.random()]);\\n</script>\\n\\n<svg class=\\\"confetti\\\" viewBox=\\\"-10 -10 10 10\\\">\\n  {#each allElements as [element, color, scale], i}\\n    <g style=\\\"transform: scale({scale})\\\">\\n      <g\\n        fill=\\\"{color}\\\"\\n        style=\\\"{[`--rotation: ${Math.random() * 360}deg`, `animation-delay: ${quadIn(i / numberOfElements)}s`, `animation-duration: ${durationInSeconds * randomNumber(0.7, 1)}s`].join(';')}\\\">\\n        {@html element}\\n      </g>\\n    </g>\\n  {/each}\\n</svg>\\n\\n<style>\\n  .confetti {\\n    width: 2em;\\n    position: absolute;\\n    stroke-linecap: round;\\n    stroke-linejoin: round;\\n    fill-rule: evenodd;\\n    clip-rule: evenodd;\\n    pointer-events: none;\\n    overflow: visible;\\n    transform: translate(-50%, -50%);\\n  }\\n  @keyframes pop {\\n    0% {\\n      transform: rotate(var(--rotation)) scale(1) translate(0em, 0em);\\n    }\\n    100% {\\n      transform: rotate(calc(var(--rotation) + 60deg)) scale(0)\\n        translate(9em, 9em);\\n      fill: white;\\n    }\\n  }\\n  g {\\n    transition: all 0.5s ease-out;\\n    transform: rotate(var(--rotation)) scale(0) translate(0, 0);\\n    animation: pop 2s ease-out;\\n    animation-iteration-count: infinite;\\n  }\\n</style>\\n\"],\"names\":[],\"mappings\":\"AAwDE,SAAS,eAAC,CAAC,AACT,KAAK,CAAE,GAAG,CACV,QAAQ,CAAE,QAAQ,CAClB,cAAc,CAAE,KAAK,CACrB,eAAe,CAAE,KAAK,CACtB,SAAS,CAAE,OAAO,CAClB,SAAS,CAAE,OAAO,CAClB,cAAc,CAAE,IAAI,CACpB,QAAQ,CAAE,OAAO,CACjB,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,AAClC,CAAC,AACD,WAAW,kBAAI,CAAC,AACd,EAAE,AAAC,CAAC,AACF,SAAS,CAAE,OAAO,IAAI,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,AACjE,CAAC,AACD,IAAI,AAAC,CAAC,AACJ,SAAS,CAAE,OAAO,KAAK,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACvD,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,CACrB,IAAI,CAAE,KAAK,AACb,CAAC,AACH,CAAC,AACD,CAAC,eAAC,CAAC,AACD,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,CAC7B,SAAS,CAAE,OAAO,IAAI,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3D,SAAS,CAAE,kBAAG,CAAC,EAAE,CAAC,QAAQ,CAC1B,yBAAyB,CAAE,QAAQ,AACrC,CAAC\"}"
};

const Confetti = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { numberOfElements = 50 } = $$props;
	let { durationInSeconds = 2 } = $$props;

	let { colors = [
		"#fff",
		"#c7ecee",
		"#778beb",
		"#f7d794",
		"#63cdda",
		"#cf6a87",
		"#e77f67",
		"#786fa6",
		"#FDA7DF",
		"#4b7bec",
		"#475c83"
	] } = $$props;

	const pickFrom = arr => arr[Math.round(Math.random() * arr.length)];
	const randomNumber = (min, max) => Math.random() * (max - min) + min;
	const getManyOf = str => new Array(30).fill(0).map(() => str);

	const elementOptions = [
		...getManyOf(`<circle r="3" />`),
		...getManyOf(`<path d="M3.83733 4.73234C4.38961 4.73234 4.83733 4.28463 4.83733 3.73234C4.83733 3.18006 4.38961 2.73234 3.83733 2.73234C3.28505 2.73234 2.83733 3.18006 2.83733 3.73234C2.83733 4.28463 3.28505 4.73234 3.83733 4.73234ZM3.83733 6.73234C5.49418 6.73234 6.83733 5.38919 6.83733 3.73234C6.83733 2.07549 5.49418 0.732341 3.83733 0.732341C2.18048 0.732341 0.83733 2.07549 0.83733 3.73234C0.83733 5.38919 2.18048 6.73234 3.83733 6.73234Z" />`),
		...getManyOf(`<path d="M4.29742 2.26041C3.86864 2.1688 3.20695 2.21855 2.13614 3.0038C1.69078 3.33041 1.06498 3.23413 0.738375 2.78876C0.411774 2.3434 0.508051 1.7176 0.953417 1.39099C2.32237 0.387097 3.55827 0.0573281 4.71534 0.304565C5.80081 0.536504 6.61625 1.24716 7.20541 1.78276C7.28295 1.85326 7.35618 1.92051 7.4263 1.9849C7.64841 2.18888 7.83929 2.36418 8.03729 2.52315C8.29108 2.72692 8.48631 2.8439 8.64952 2.90181C8.7915 2.95219 8.91895 2.96216 9.07414 2.92095C9.24752 2.8749 9.5134 2.7484 9.88467 2.42214C10.2995 2.05757 10.9314 2.09833 11.2959 2.51319C11.6605 2.92805 11.6198 3.5599 11.2049 3.92447C10.6816 4.38435 10.1478 4.70514 9.58752 4.85394C9.00909 5.00756 8.469 4.95993 7.9807 4.78667C7.51364 4.62093 7.11587 4.34823 6.78514 4.08268C6.53001 3.87783 6.27248 3.64113 6.04114 3.4285C5.97868 3.37109 5.91814 3.31544 5.86006 3.26264C5.25645 2.7139 4.79779 2.36733 4.29742 2.26041Z" />`),
		...getManyOf(`<rect width="4" height="4" x="-2" y="-2" />`),
		`<path d="M -5 5 L 0 -5 L 5 5 Z" />`,
		...("ABCDEFGHIJKLMNOPQRSTUVWXYZ").split("").map(letter => `<text style="font-weight: 700">${letter}</text>`)
	];

	const allElements = new Array(numberOfElements).fill(0).map((_, i) => [pickFrom(elementOptions), pickFrom(colors), Math.random()]);
	if ($$props.numberOfElements === void 0 && $$bindings.numberOfElements && numberOfElements !== void 0) $$bindings.numberOfElements(numberOfElements);
	if ($$props.durationInSeconds === void 0 && $$bindings.durationInSeconds && durationInSeconds !== void 0) $$bindings.durationInSeconds(durationInSeconds);
	if ($$props.colors === void 0 && $$bindings.colors && colors !== void 0) $$bindings.colors(colors);
	$$result.css.add(css$8);

	return `<svg class="${"confetti svelte-15wt7c8"}" viewBox="${"-10 -10 10 10"}">${each(allElements, ([element, color, scale], i) => `<g style="${"transform: scale(" + escape(scale) + ")"}" class="${"svelte-15wt7c8"}"><g${add_attribute("fill", color, 0)}${add_attribute(
		"style",
		[
			`--rotation: ${Math.random() * 360}deg`,
			`animation-delay: ${quadIn(i / numberOfElements)}s`,
			`animation-duration: ${durationInSeconds * randomNumber(0.7, 1)}s`
		].join(";"),
		0
	)} class="${"svelte-15wt7c8"}">${element}</g></g>`)}</svg>`;
});

/* src/CompletedMessage.svelte generated by Svelte v3.29.0 */

const css$9 = {
	code: ".completed.svelte-5unbfv{position:absolute;top:min(50%, 15em);left:50%;background:white;transform:translate(-50%, -50%);border-radius:4px;z-index:100;box-shadow:0 4px 8px 4px rgba(0, 0, 0, 0.2)}.curtain.svelte-5unbfv{position:absolute;top:0;right:0;bottom:0;left:0;background:#fff;opacity:0.9;cursor:pointer;z-index:1}h3.svelte-5unbfv{margin:0;margin-bottom:0.5em}button.svelte-5unbfv{cursor:pointer;margin-left:1em;font-size:1em;background-color:var(--toolbar-button-bg, #efefef);border-radius:var(--toolbar-button-border-radius, 4px);color:var(--toolbar-button-color, #6a6a6a);padding:var(--toolbar-button-padding, 0.75em);border:var(--toolbar-button-border, none);font-weight:var(--toolbar-button-font-weight, 400);transition:background-color 150ms}button.svelte-5unbfv:hover{background-color:var(--toolbar-button-bg-hover, #cdcdcd)}.content.svelte-5unbfv{position:relative;display:flex;flex-direction:column;align-items:center;padding:2em}.message.svelte-5unbfv{margin-bottom:1em}.confetti.svelte-5unbfv{position:absolute;top:30%;left:50%;transform:translate(-50%, -50%)}",
	map: "{\"version\":3,\"file\":\"CompletedMessage.svelte\",\"sources\":[\"CompletedMessage.svelte\"],\"sourcesContent\":[\"<script>\\n  import { fade } from 'svelte/transition';\\n  import Confetti from './Confetti.svelte';\\n\\n\\texport let showConfetti = true;\\n\\n  let isOpen = true;\\n</script>\\n\\n{#if isOpen}\\n  <div class=\\\"completed\\\" transition:fade=\\\"{{ y: 20 }}\\\">\\n\\t\\t\\n\\t\\t<div class=\\\"content\\\">\\n\\t\\t\\t<div class=\\\"message\\\">\\n\\t\\t\\t\\t<slot name=\\\"message\\\">\\n\\t\\t\\t\\t\\t<h3>You solved it!</h3>\\n\\t\\t\\t\\t</slot>\\n\\t\\t\\t</div>\\n\\n      <button on:click=\\\"{() => (isOpen = false)}\\\">View puzzle</button>\\n\\t\\t</div>\\n\\t\\t\\n\\t\\t{#if showConfetti}\\n\\t\\t<div class=\\\"confetti\\\">\\n\\t\\t\\t<Confetti />\\n\\t\\t</div>\\n\\t\\t{/if}\\n\\n  </div>\\n  <div\\n    class=\\\"curtain\\\"\\n    transition:fade=\\\"{{ duration: 250 }}\\\"\\n    on:click=\\\"{() => (isOpen = false)}\\\"></div>\\n{/if}\\n\\n<style>\\n  .completed {\\n    position: absolute;\\n    top: min(50%, 15em);\\n    left: 50%;\\n    background: white;\\n    transform: translate(-50%, -50%);\\n    border-radius: 4px;\\n    z-index: 100;\\n    box-shadow: 0 4px 8px 4px rgba(0, 0, 0, 0.2);\\n  }\\n\\n  .curtain {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    background: #fff;\\n    opacity: 0.9;\\n    cursor: pointer;\\n    z-index: 1;\\n  }\\n\\n  h3 {\\n    margin: 0;\\n    margin-bottom: 0.5em;\\n  }\\n\\n  button {\\n    cursor: pointer;\\n\\t\\tmargin-left: 1em;\\n\\t\\tfont-size: 1em;\\n\\t\\tbackground-color: var(--toolbar-button-bg, #efefef);\\n\\t\\tborder-radius: var(--toolbar-button-border-radius, 4px);\\n\\t\\tcolor: var(--toolbar-button-color, #6a6a6a);\\n\\t\\tpadding: var(--toolbar-button-padding, 0.75em);\\n\\t\\tborder: var(--toolbar-button-border, none);\\n\\t\\tfont-weight: var(--toolbar-button-font-weight, 400);\\n\\t\\ttransition: background-color 150ms;\\n  }\\n\\n\\tbutton:hover {\\n\\t\\tbackground-color: var(--toolbar-button-bg-hover, #cdcdcd);\\n\\t}\\n  \\n\\t.content {\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    padding: 2em;\\n  }\\n\\n\\t.message {\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n\\n  .confetti {\\n    position: absolute;\\n    top: 30%;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n  }\\n</style>\\n\"],\"names\":[],\"mappings\":\"AAoCE,UAAU,cAAC,CAAC,AACV,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CACnB,IAAI,CAAE,GAAG,CACT,UAAU,CAAE,KAAK,CACjB,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAChC,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,GAAG,CACZ,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,AAC9C,CAAC,AAED,QAAQ,cAAC,CAAC,AACR,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,CAAC,CACT,IAAI,CAAE,CAAC,CACP,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,CAAC,AACZ,CAAC,AAED,EAAE,cAAC,CAAC,AACF,MAAM,CAAE,CAAC,CACT,aAAa,CAAE,KAAK,AACtB,CAAC,AAED,MAAM,cAAC,CAAC,AACN,MAAM,CAAE,OAAO,CACjB,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,GAAG,CACd,gBAAgB,CAAE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CACnD,aAAa,CAAE,IAAI,8BAA8B,CAAC,IAAI,CAAC,CACvD,KAAK,CAAE,IAAI,sBAAsB,CAAC,QAAQ,CAAC,CAC3C,OAAO,CAAE,IAAI,wBAAwB,CAAC,OAAO,CAAC,CAC9C,MAAM,CAAE,IAAI,uBAAuB,CAAC,KAAK,CAAC,CAC1C,WAAW,CAAE,IAAI,4BAA4B,CAAC,IAAI,CAAC,CACnD,UAAU,CAAE,gBAAgB,CAAC,KAAK,AAClC,CAAC,AAEF,oBAAM,MAAM,AAAC,CAAC,AACb,gBAAgB,CAAE,IAAI,yBAAyB,CAAC,QAAQ,CAAC,AAC1D,CAAC,AAED,QAAQ,cAAC,CAAC,AACP,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,OAAO,CAAE,GAAG,AACd,CAAC,AAEF,QAAQ,cAAC,CAAC,AACT,aAAa,CAAE,GAAG,AACnB,CAAC,AAEA,SAAS,cAAC,CAAC,AACT,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,AAClC,CAAC\"}"
};

const CompletedMessage = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { showConfetti = true } = $$props;
	if ($$props.showConfetti === void 0 && $$bindings.showConfetti && showConfetti !== void 0) $$bindings.showConfetti(showConfetti);
	$$result.css.add(css$9);

	return `${ `<div class="${"completed svelte-5unbfv"}"><div class="${"content svelte-5unbfv"}"><div class="${"message svelte-5unbfv"}">${slots.message
		? slots.message({})
		: `
					<h3 class="${"svelte-5unbfv"}">You solved it!</h3>
				`}</div>

      <button class="${"svelte-5unbfv"}">View puzzle</button></div>
		
		${showConfetti
		? `<div class="${"confetti svelte-5unbfv"}">${validate_component(Confetti, "Confetti").$$render($$result, {}, {}, {})}</div>`
		: ``}</div>
  <div class="${"curtain svelte-5unbfv"}"></div>`
	}`;
});

function createClues(data) {
  const withId = data.map((d, i) => ({
		...d,
    id: `${d.x}-${d.y}`,
  }));
	
  // sort asc by start position of clue so we have proper clue ordering
  withId.sort((a, b) => a.y - b.y || a.x - b.x);

  // create a lookup to store clue number (and reuse if same start pos)
  let lookup = {};
  let currentNumber = 1;

  const withNumber = withId.map((d) => {
    let number;
    if (lookup[d.id]) number = lookup[d.id];
    else {
      lookup[d.id] = number = currentNumber;
      currentNumber += 1;
    }
    return {
      ...d,
      number,
    };
  });


	// create cells for each letter
	const withCells = withNumber.map(d => {
		const chars = d.answer.split("");
    const cells = chars.map((answer, i) => {
      const x = d.x + (d.direction === "across" ? i : 0);
      const y = d.y + (d.direction === "down" ? i : 0);
      const number = i === 0 ? d.number : "";
      const clueNumbers = { [d.direction]: d.number };
      const id = `${x}-${y}`;
      const value = "";
      const custom = d.custom || "";
      return {
        id,
        number,
        clueNumbers,
        x,
        y,
        value,
        answer: answer.toUpperCase(),
        custom,
      };
    });
		return {
			...d,
			cells
		}
	});

	withCells.sort((a, b) => {
		if (a.direction < b.direction) return -1;
		else if (a.direction > b.direction) return 1;
		return a.number - b.number;
	});
	const withIndex = withCells.map((d, i) => ({
		...d,
		index: i
	}));
	return withIndex;
}

function createCells(data) {
  const cells = [].concat(...data.map(d => d.cells));
  let dict = {};

  // sort so that ones with number values come first and dedupe
  cells.sort((a, b) => a.y - b.y || a.x - b.x || b.number - a.number);
  cells.forEach((d) => {
    if (!dict[d.id]) {
      dict[d.id] = d;
    } else {
      // consolidate clue numbers for across & down
      dict[d.id].clueNumbers = {
        ...d.clueNumbers,
        ...dict[d.id].clueNumbers,
      };
      // consolidate custom classes
      if (dict[d.id].custom !== d.custom)
        dict[d.id].custom = `${dict[d.id].custom} ${d.custom}`;
    }
  });

  const unique = Object.keys(dict).map((d) => dict[d]);
  unique.sort((a, b) => a.y - b.y || a.x - b.x);
  // add index
  const output = unique.map((d, i) => ({ ...d, index: i }));
  return output;
}

function validateClues(data) {
	const props = [
    {
      prop: "clue",
      type: "string",
    },
    {
      prop: "answer",
      type: "string",
    },
    {
      prop: "x",
      type: "number",
    },
    {
      prop: "y",
      type: "number",
    }
  ];

	// only store if they fail
	let failedProp = false;
  data.forEach(d => !!props.map(p => {
		const f = typeof d[p.prop] !== p.type;
		if (f) {
			failedProp = true;
			console.error(`"${p.prop}" is not a ${p.type}\n`, d);
		}
	}));

	let failedCell = false;
	const cells = [].concat(...data.map(d => d.cells));
	
	let dict = {};
	cells.forEach((d) => {
    if (!dict[d.id]) {
      dict[d.id] = d.answer;
    } else {
			if (dict[d.id] !== d.answer) {
				failedCell = true;
				console.error(`cell "${d.id}" has two different values\n`, `${dict[d.id]} and ${d.answer}`);
			}
		}
  });

	return !failedProp && !failedCell;
}

function fromPairs(arr) {
  let res = {};
  arr.forEach((d) => {
    res[d[0]] = d[1];
  });
  return res;
}

/* src/Crossword.svelte generated by Svelte v3.29.0 */

const css$a = {
	code: ".theme-classic.svelte-1yhttaz{--theme-crossword-bg:transparent;--theme-crossword-bg:transparent;--theme-puzzle-border-color:#1a1a1a;--theme-puzzle-font:-apple-system, Helvetica, sans-serif;--theme-clue-font:-apple-system, Helvetica, sans-serif;--theme-clue-text-color:#1a1a1a;--theme-clue-scrollbar-bg:#efefef;--theme-clue-scrollbar-fg:#cdcdcd;--theme-clue-puzzle-order:row;--theme-clue-list-width:16em;--theme-cell-highlight-color:#ffcc00;--theme-cell-secondary-color:#ffec99;--theme-cell-bg-color:#fff;--theme-cell-border-color:#1a1a1a;--theme-cell-border-width:0.01;--theme-cell-text-color:#1a1a1a;--theme-cell-font-size:0.7em;--theme-cell-font-weight:700;--theme-cell-void-color:#1a1a1a;--theme-number-font-size:0.3em;--theme-number-font-weight:400;--theme-number-color:#6a6a6a;--theme-toolbar-font:-apple-system, Helvetica, sans-serif;--theme-toolbar-font-size:0.85em;--theme-toolbar-bg:transparent;--theme-toolbar-button-bg:#efefef;--theme-toolbar-button-border-radius:4px;--theme-toolbar-button-color:#6a6a6a;--theme-toolbar-button-padding:0.75em;--theme-toolbar-button-border:none;--theme-toolbar-button-font-weight:400;--theme-toolbar-button-bg-hover:#cdcdcd}.theme-dark.svelte-1yhttaz{--theme-crossword-bg:#1a1a1a;--theme-puzzle-border-color:#6a6a6a;--theme-puzzle-font:-apple-system, Helvetica, sans-serif;--theme-clue-font:-apple-system, Helvetica, sans-serif;--theme-clue-text-color:#fff;--theme-clue-background-color:#1a1a1a;--theme-clue-scrollbar-bg:#5a5a5a;--theme-clue-scrollbar-fg:#efefef;--theme-clue-puzzle-order:row;--theme-clue-list-width:16em;--theme-cell-highlight-color:#066;--theme-cell-secondary-color:#003d3d;--theme-cell-bg-color:#1a1a1a;--theme-cell-border-color:#8a8a8a;--theme-cell-border-width:0.01;--theme-cell-text-color:#fff;--theme-cell-font-size:0.7em;--theme-cell-font-weight:700;--theme-cell-void-color:#1a1a1a;--theme-number-font-size:0.3em;--theme-number-font-weight:400;--theme-number-color:#cdcdcd;--theme-toolbar-font:-apple-system, Helvetica, sans-serif;--theme-toolbar-font-size:0.85em;--theme-toolbar-bg:transparent;--theme-toolbar-button-bg:#efefef;--theme-toolbar-button-border-radius:4px;--theme-toolbar-button-color:#6a6a6a;--theme-toolbar-button-padding:0.75em;--theme-toolbar-button-border:none;--theme-toolbar-button-font-weight:400;--theme-toolbar-button-bg-hover:#cdcdcd}.theme-amelia.svelte-1yhttaz{--theme-crossword-bg:transparent;--theme-puzzle-border-color:#353b48;--theme-puzzle-font:-apple-system, Helvetica, sans-serif;--theme-clue-font:-apple-system, Helvetica, sans-serif;--theme-clue-text-color:#353b48;--theme-clue-scrollbar-bg:#d7cefd;--theme-clue-scrollbar-fg:#9980fa;--theme-clue-puzzle-order:row;--theme-clue-list-width:16em;--theme-cell-highlight-color:#d7cefd;--theme-cell-secondary-color:#9980fa;--theme-cell-bg-color:#fff;--theme-cell-border-color:#353b48;--theme-cell-border-width:0.027;--theme-cell-text-color:#353b48;--theme-cell-font-size:0.76em;--theme-cell-font-weight:700;--theme-cell-void-color:#353b48;--theme-number-font-size:0.25em;--theme-number-font-weight:100;--theme-number-color:#353b48;--theme-toolbar-font:-apple-system, Helvetica, sans-serif;--theme-toolbar-font-size:0.85em;--theme-toolbar-bg:transparent;--theme-toolbar-button-bg:#efefef;--theme-toolbar-button-border-radius:4px;--theme-toolbar-button-color:#6a6a6a;--theme-toolbar-button-padding:0.75em;--theme-toolbar-button-border:none;--theme-toolbar-button-font-weight:400;--theme-toolbar-button-bg-hover:#cdcdcd}.theme-citrus.svelte-1yhttaz{--theme-crossword-bg:transparent;--theme-puzzle-border-color:#193939;--theme-puzzle-font:-apple-system, Helvetica, sans-serif;--theme-clue-font:-apple-system, Helvetica, sans-serif;--theme-clue-text-color:#193939;--theme-clue-background-color:#fff;--theme-clue-scrollbar-bg:#ebf3f3;--theme-clue-scrollbar-fg:#c9d8d8;--theme-clue-puzzle-order:row;--theme-clue-list-width:16em;--theme-cell-highlight-color:#ffdfd5;--theme-cell-secondary-color:#ff957d;--theme-cell-bg-color:#fff;--theme-cell-border-color:#193939;--theme-cell-border-width:0.01;--theme-cell-text-color:#193939;--theme-cell-font-size:0.7em;--theme-cell-font-weight:700;--theme-cell-void-color:#266b6b;--theme-number-font-size:0.3em;--theme-number-font-weight:400;--theme-number-color:#266b6b;--theme-toolbar-font:-apple-system, Helvetica, sans-serif;--theme-toolbar-font-size:0.85em;--theme-toolbar-bg:transparent;--theme-toolbar-button-bg:#efefef;--theme-toolbar-button-border-radius:4px;--theme-toolbar-button-color:#6a6a6a;--theme-toolbar-button-padding:0.75em;--theme-toolbar-button-border:none;--theme-toolbar-button-font-weight:400;--theme-toolbar-button-bg-hover:#cdcdcd}article.svelte-1yhttaz{--crossword-bg:var(\n      --theme-crossword-bg,\n      var(--theme-crossword-bg)\n    );--puzzle-border-color:var(\n      --theme-puzzle-border-color,\n      var(--theme-puzzle-border-color)\n    );--puzzle-font:var(--theme-puzzle-font, var(--theme-puzzle-font));--clue-font:var(--theme-clue-font, var(--theme-clue-font));--clue-text-color:var(\n      --theme-clue-text-color,\n      var(--theme-clue-text-color)\n    );--clue-background-color:var(\n      --theme-clue-background-color,\n      var(--theme-clue-background-color)\n    );--clue-scrollbar-bg:var(\n      --theme-clue-scrollbar-bg,\n      var(--theme-clue-scrollbar-bg)\n    );--clue-scrollbar-fg:var(\n      --theme-clue-scrollbar-fg,\n      var(--theme-clue-scrollbar-fg)\n    );--clue-puzzle-order:var(\n      --theme-clue-puzzle-order,\n      var(--theme-clue-puzzle-order)\n    );--clue-list-width:var(\n      --theme-clue-list-width,\n      var(--theme-clue-list-width)\n    );--cell-highlight-color:var(\n      --theme-cell-highlight-color,\n      var(--theme-cell-highlight-color)\n    );--cell-secondary-color:var(\n      --theme-cell-secondary-color,\n      var(--theme-cell-secondary-color)\n    );--cell-bg-color:var(--theme-cell-bg-color, var(--theme-cell-bg-color));--cell-border-color:var(\n      --theme-cell-border-color,\n      var(--theme-cell-border-color)\n    );--cell-border-width:var(\n      --theme-cell-border-width,\n      var(--theme-cell-border-width)\n    );--cell-text-color:var(\n      --theme-cell-text-color,\n      var(--theme-cell-text-color)\n    );--cell-font-size:var(--theme-cell-font-size, var(--theme-cell-font-size));--cell-font-weight:var(\n      --theme-cell-font-weight,\n      var(--theme-cell-font-weight)\n    );--cell-void-color:var(\n      --theme-cell-void-color,\n      var(--theme-cell-void-color)\n    );--number-font-size:var(\n      --theme-number-font-size,\n      var(--theme-number-font-size)\n    );--number-font-weight:var(\n      --theme-number-font-weight,\n      var(--theme-number-font-weight)\n    );--number-color:var(--theme-number-color, var(--theme-number-color));--toolbar-font:var(\n\t\t\t--theme-toolbar-font,\n\t\t\tvar(--theme-toolbar-font)\n\t\t);--toolbar-font-size:var(\n\t\t\t--theme-toolbar-font-size,\n\t\t\tvar(--theme-toolbar-font-size)\n\t\t);--toolbar-bg:var(\n\t\t\t--theme-toolbar-bg,\n\t\t\tvar(--theme-toolbar-bg)\n\t\t);--toolbar-button-bg:var(\n\t\t\t--theme-toolbar-button-bg,\n\t\t\tvar(--theme-toolbar-button-bg)\n\t\t);--toolbar-button-border-radius:var(\n\t\t\t--theme-toolbar-button-border-radius,\n\t\t\tvar(--theme-toolbar-button-border-radius)\n\t\t);--toolbar-button-color:var(\n\t\t\t--theme-toolbar-button-color,\n\t\t\tvar(--theme-toolbar-button-color)\n\t\t);--toolbar-button-padding:var(\n\t\t\t--theme-toolbar-button-padding,\n\t\t\tvar(--theme-toolbar-button-padding)\n\t\t);--toolbar-button-border:var(\n\t\t\t--theme-toolbar-button-border,\n\t\t\tvar(--theme-toolbar-button-border)\n\t\t);--toolbar-button-font-weight:var(\n\t\t\t--theme-toolbar-button-font-weight,\n\t\t\tvar(--theme-toolbar-button-font-weight)\n\t\t);--toolbar-button-bg-hover:var(\n\t\t\t--theme-toolbar-button-bg-hover,\n\t\t\tvar(--theme-toolbar-button-bg-hover)\n\t\t);position:relative;background-color:var(--crossword-bg)}.play.svelte-1yhttaz{display:flex;flex-direction:column}.play.desktop.svelte-1yhttaz{flex-direction:var(--clue-puzzle-order, row)}",
	map: "{\"version\":3,\"file\":\"Crossword.svelte\",\"sources\":[\"Crossword.svelte\"],\"sourcesContent\":[\"<script>\\n  import Toolbar from \\\"./Toolbar.svelte\\\";\\n  import Puzzle from \\\"./Puzzle.svelte\\\";\\n  import Clues from \\\"./Clues.svelte\\\";\\n  import CompletedMessage from \\\"./CompletedMessage.svelte\\\";\\n  import createClues from \\\"./helpers/createClues.js\\\";\\n  import createCells from \\\"./helpers/createCells.js\\\";\\n  import validateClues from \\\"./helpers/validateClues.js\\\";\\n  import { fromPairs } from \\\"./helpers/utils.js\\\";\\n\\n  export let data = [];\\n  export let actions = [\\\"clear\\\", \\\"reveal\\\"];\\n\\texport let theme = \\\"classic\\\";\\n\\texport let revealDuration = 1000;\\n\\texport let breakpoint = 720;\\n\\texport let revealed = false;\\n  export let disableHighlight = false;\\n\\texport let showCompleteMessage = true;\\n\\texport let showConfetti = true;\\n\\t\\n  let originalClues = createClues(data);\\n  let validated = validateClues(originalClues);\\n  let clues = originalClues.map((d) => ({ ...d }));\\n\\tlet cells = createCells(originalClues);\\n\\tlet width = 0;\\n  let focusedDirection = \\\"across\\\";\\n  let focusedCellIndex = 0;\\n  let isRevealing = false;\\n  let revealTimeout;\\n  let clueCompletion;\\n\\n  $: focusedCell = cells[focusedCellIndex] || {};\\n  $: cellIndexMap = fromPairs(cells.map((cell) => [cell.id, cell.index]));\\n  $: percentCorrect =\\n    cells.filter((d) => d.answer === d.value).length / cells.length;\\n  $: isComplete = percentCorrect == 1;\\n  $: themeClass = theme ? `theme-${theme}` : \\\"\\\";\\n  $: isDisableHighlight = isComplete && disableHighlight;\\n\\t$: cells, (clues = checkClues());\\n\\t\\n\\t$: desktop = width >= breakpoint;\\n\\n  function checkClues() {\\n    return clues.map((d) => {\\n      const index = d.index;\\n      const cellChecks = d.cells.map((c) => {\\n        const { value } = cells.find((e) => e.id === c.id);\\n        const hasValue = !!value;\\n        const hasCorrect = value === c.answer;\\n        return { hasValue, hasCorrect };\\n      });\\n      const isCorrect =\\n        cellChecks.filter((c) => c.hasCorrect).length === d.answer.length;\\n      const isFilled =\\n        cellChecks.filter((c) => c.hasValue).length === d.answer.length;\\n      return {\\n        ...d,\\n        isCorrect,\\n        isFilled,\\n      };\\n    });\\n  }\\n\\n  function reset() {\\n    isRevealing = false;\\n    focusedCellIndex = 0;\\n    focusedDirection = \\\"across\\\";\\n  }\\n\\n  function onClear() {\\n    reset();\\n    if (revealTimeout) clearTimeout(revealTimeout);\\n    cells = cells.map((cell) => ({\\n      ...cell,\\n      value: \\\"\\\",\\n    }));\\n    revealed = false;\\n  }\\n\\n  function onReveal() {\\n    if (revealed) return true;\\n    reset();\\n    cells = cells.map((cell) => ({\\n      ...cell,\\n      value: cell.answer,\\n    }));\\n    revealed = true;\\n    startReveal();\\n  }\\n\\n  function startReveal() {\\n    isRevealing = true;\\n    if (revealTimeout) clearTimeout(revealTimeout);\\n    revealTimeout = setTimeout(() => {\\n      isRevealing = false;\\n    }, revealDuration + 250);\\n  }\\n\\n  function onToolbarEvent({ detail }) {\\n    if (detail === \\\"clear\\\") onClear();\\n\\t\\telse if (detail === \\\"reveal\\\") onReveal();\\n\\t}\\t\\n</script>\\n\\n\\n{#if validated}\\n\\n<article class=\\\"crossword {themeClass}\\\" bind:offsetWidth={width}>\\n\\t<slot name=\\\"toolbar\\\" onClear=\\\"{onClear}\\\" onReveal=\\\"{onReveal}\\\">\\n\\t\\t<Toolbar actions=\\\"{actions}\\\" on:event=\\\"{onToolbarEvent}\\\" />\\n\\t</slot>\\n\\n\\t<div class=\\\"play\\\" class:desktop>\\n\\t\\t<Clues\\n\\t\\t\\tclues=\\\"{clues}\\\"\\n\\t\\t\\tcellIndexMap=\\\"{cellIndexMap}\\\"\\n\\t\\t\\tdesktop=\\\"{desktop}\\\"\\n\\t\\t\\tbind:focusedCellIndex\\n\\t\\t\\tbind:focusedCell\\n\\t\\t\\tbind:focusedDirection />\\n\\t\\t<Puzzle\\n\\t\\t\\tclues=\\\"{clues}\\\"\\n\\t\\t\\tfocusedCell=\\\"{focusedCell}\\\"\\n\\t\\t\\tisRevealing=\\\"{isRevealing}\\\"\\n\\t\\t\\tisDisableHighlight=\\\"{isDisableHighlight}\\\"\\n\\t\\t\\trevealDuration=\\\"{revealDuration}\\\"\\n\\t\\t\\tdesktop=\\\"{desktop}\\\"\\n\\t\\t\\tbind:cells\\n\\t\\t\\tbind:focusedCellIndex\\n\\t\\t\\tbind:focusedDirection />\\n\\t</div>\\n\\n\\t{#if isComplete && !isRevealing && showCompleteMessage}\\n\\t\\t<CompletedMessage {showConfetti}>\\n\\t\\t\\t<slot name=\\\"complete\\\" />\\n\\t\\t</CompletedMessage>\\n\\t{/if}\\n</article>\\n{/if}\\n\\n<style>\\n  .theme-classic {\\n\\t\\t--theme-crossword-bg: transparent;\\n\\t\\t--theme-crossword-bg: transparent;\\n    --theme-puzzle-border-color: #1a1a1a;\\n    --theme-puzzle-font: -apple-system, Helvetica, sans-serif;\\n\\n    --theme-clue-font: -apple-system, Helvetica, sans-serif;\\n    --theme-clue-text-color: #1a1a1a;\\n    --theme-clue-scrollbar-bg: #efefef;\\n    --theme-clue-scrollbar-fg: #cdcdcd;\\n    --theme-clue-puzzle-order: row;\\n    --theme-clue-list-width: 16em;\\n\\n    --theme-cell-highlight-color: #ffcc00;\\n    --theme-cell-secondary-color: #ffec99;\\n    --theme-cell-bg-color: #fff;\\n    --theme-cell-border-color: #1a1a1a;\\n    --theme-cell-border-width: 0.01;\\n    --theme-cell-text-color: #1a1a1a;\\n    --theme-cell-font-size: 0.7em;\\n    --theme-cell-font-weight: 700;\\n    --theme-cell-void-color: #1a1a1a;\\n\\n    --theme-number-font-size: 0.3em;\\n    --theme-number-font-weight: 400;\\n    --theme-number-color: #6a6a6a;\\n\\t\\t\\n\\t\\t--theme-toolbar-font: -apple-system, Helvetica, sans-serif;\\n\\t\\t--theme-toolbar-font-size: 0.85em;\\n\\t\\t--theme-toolbar-bg: transparent;\\n\\t\\t--theme-toolbar-button-bg: #efefef;\\n\\t\\t--theme-toolbar-button-border-radius: 4px;\\n\\t\\t--theme-toolbar-button-color: #6a6a6a;\\n\\t\\t--theme-toolbar-button-padding: 0.75em;\\n\\t\\t--theme-toolbar-button-border: none;\\n\\t\\t--theme-toolbar-button-font-weight: 400;\\n\\t\\t--theme-toolbar-button-bg-hover: #cdcdcd;\\n  }\\n\\n  .theme-dark {\\n\\t\\t--theme-crossword-bg: #1a1a1a;\\n    --theme-puzzle-border-color: #6a6a6a;\\n    --theme-puzzle-font: -apple-system, Helvetica, sans-serif;\\n    \\n\\t\\t--theme-clue-font: -apple-system, Helvetica, sans-serif;\\n    --theme-clue-text-color: #fff;\\n    --theme-clue-background-color: #1a1a1a;\\n    --theme-clue-scrollbar-bg: #5a5a5a;\\n    --theme-clue-scrollbar-fg: #efefef;\\n    --theme-clue-puzzle-order: row;\\n    --theme-clue-list-width: 16em;\\n    \\n\\t\\t--theme-cell-highlight-color: #066;\\n    --theme-cell-secondary-color: #003d3d;\\n    --theme-cell-bg-color: #1a1a1a;\\n    --theme-cell-border-color: #8a8a8a;\\n    --theme-cell-border-width: 0.01;\\n    --theme-cell-text-color: #fff;\\n    --theme-cell-font-size: 0.7em;\\n    --theme-cell-font-weight: 700;\\n    --theme-cell-void-color: #1a1a1a;\\n    \\n\\t\\t--theme-number-font-size: 0.3em;\\n    --theme-number-font-weight: 400;\\n    --theme-number-color: #cdcdcd;\\n\\t\\t\\n\\t\\t--theme-toolbar-font: -apple-system, Helvetica, sans-serif;\\n\\t\\t--theme-toolbar-font-size: 0.85em;\\n\\t\\t--theme-toolbar-bg: transparent;\\n\\t\\t--theme-toolbar-button-bg: #efefef;\\n\\t\\t--theme-toolbar-button-border-radius: 4px;\\n\\t\\t--theme-toolbar-button-color: #6a6a6a;\\n\\t\\t--theme-toolbar-button-padding: 0.75em;\\n\\t\\t--theme-toolbar-button-border: none;\\n\\t\\t--theme-toolbar-button-font-weight: 400;\\n\\t\\t--theme-toolbar-button-bg-hover: #cdcdcd;\\n  }\\n\\n  .theme-amelia {\\n\\t\\t--theme-crossword-bg: transparent;\\n    --theme-puzzle-border-color: #353b48;\\n    --theme-puzzle-font: -apple-system, Helvetica, sans-serif;\\n\\n    --theme-clue-font: -apple-system, Helvetica, sans-serif;\\n    --theme-clue-text-color: #353b48;\\n    --theme-clue-scrollbar-bg: #d7cefd;\\n    --theme-clue-scrollbar-fg: #9980fa;\\n    --theme-clue-puzzle-order: row;\\n    --theme-clue-list-width: 16em;\\n\\n    --theme-cell-highlight-color: #d7cefd;\\n    --theme-cell-secondary-color: #9980fa;\\n    --theme-cell-bg-color: #fff;\\n    --theme-cell-border-color: #353b48;\\n    --theme-cell-border-width: 0.027;\\n    --theme-cell-text-color: #353b48;\\n    --theme-cell-font-size: 0.76em;\\n    --theme-cell-font-weight: 700;\\n    --theme-cell-void-color: #353b48;\\n\\n    --theme-number-font-size: 0.25em;\\n    --theme-number-font-weight: 100;\\n    --theme-number-color: #353b48;\\n\\t\\t\\n\\t\\t--theme-toolbar-font: -apple-system, Helvetica, sans-serif;\\n\\t\\t--theme-toolbar-font-size: 0.85em;\\n\\t\\t--theme-toolbar-bg: transparent;\\n\\t\\t--theme-toolbar-button-bg: #efefef;\\n\\t\\t--theme-toolbar-button-border-radius: 4px;\\n\\t\\t--theme-toolbar-button-color: #6a6a6a;\\n\\t\\t--theme-toolbar-button-padding: 0.75em;\\n\\t\\t--theme-toolbar-button-border: none;\\n\\t\\t--theme-toolbar-button-font-weight: 400;\\n\\t\\t--theme-toolbar-button-bg-hover: #cdcdcd;\\n  }\\n\\n  .theme-citrus {\\n\\t\\t--theme-crossword-bg: transparent;\\n    --theme-puzzle-border-color: #193939;\\n    --theme-puzzle-font: -apple-system, Helvetica, sans-serif;\\n\\n    --theme-clue-font: -apple-system, Helvetica, sans-serif;\\n    --theme-clue-text-color: #193939;\\n    --theme-clue-background-color: #fff;\\n    --theme-clue-scrollbar-bg: #ebf3f3;\\n    --theme-clue-scrollbar-fg: #c9d8d8;\\n    --theme-clue-puzzle-order: row;\\n    --theme-clue-list-width: 16em;\\n\\n    --theme-cell-highlight-color: #ffdfd5;\\n    --theme-cell-secondary-color: #ff957d;\\n    --theme-cell-bg-color: #fff;\\n    --theme-cell-border-color: #193939;\\n    --theme-cell-border-width: 0.01;\\n    --theme-cell-text-color: #193939;\\n    --theme-cell-font-size: 0.7em;\\n    --theme-cell-font-weight: 700;\\n    --theme-cell-void-color: #266b6b;\\n\\n    --theme-number-font-size: 0.3em;\\n    --theme-number-font-weight: 400;\\n    --theme-number-color: #266b6b;\\n\\t\\t\\n\\t\\t--theme-toolbar-font: -apple-system, Helvetica, sans-serif;\\n\\t\\t--theme-toolbar-font-size: 0.85em;\\n\\t\\t--theme-toolbar-bg: transparent;\\n\\t\\t--theme-toolbar-button-bg: #efefef;\\n\\t\\t--theme-toolbar-button-border-radius: 4px;\\n\\t\\t--theme-toolbar-button-color: #6a6a6a;\\n\\t\\t--theme-toolbar-button-padding: 0.75em;\\n\\t\\t--theme-toolbar-button-border: none;\\n\\t\\t--theme-toolbar-button-font-weight: 400;\\n\\t\\t--theme-toolbar-button-bg-hover: #cdcdcd;\\n  }\\n\\n  article {\\n\\t\\t--crossword-bg: var(\\n      --theme-crossword-bg,\\n      var(--theme-crossword-bg)\\n    );\\n    --puzzle-border-color: var(\\n      --theme-puzzle-border-color,\\n      var(--theme-puzzle-border-color)\\n    );\\n    --puzzle-font: var(--theme-puzzle-font, var(--theme-puzzle-font));\\n\\n    --clue-font: var(--theme-clue-font, var(--theme-clue-font));\\n    --clue-text-color: var(\\n      --theme-clue-text-color,\\n      var(--theme-clue-text-color)\\n    );\\n    --clue-background-color: var(\\n      --theme-clue-background-color,\\n      var(--theme-clue-background-color)\\n    );\\n    --clue-scrollbar-bg: var(\\n      --theme-clue-scrollbar-bg,\\n      var(--theme-clue-scrollbar-bg)\\n    );\\n    --clue-scrollbar-fg: var(\\n      --theme-clue-scrollbar-fg,\\n      var(--theme-clue-scrollbar-fg)\\n    );\\n    --clue-puzzle-order: var(\\n      --theme-clue-puzzle-order,\\n      var(--theme-clue-puzzle-order)\\n    );\\n    --clue-list-width: var(\\n      --theme-clue-list-width,\\n      var(--theme-clue-list-width)\\n    );\\n\\n    --cell-highlight-color: var(\\n      --theme-cell-highlight-color,\\n      var(--theme-cell-highlight-color)\\n    );\\n    --cell-secondary-color: var(\\n      --theme-cell-secondary-color,\\n      var(--theme-cell-secondary-color)\\n    );\\n    --cell-bg-color: var(--theme-cell-bg-color, var(--theme-cell-bg-color));\\n    --cell-border-color: var(\\n      --theme-cell-border-color,\\n      var(--theme-cell-border-color)\\n    );\\n    --cell-border-width: var(\\n      --theme-cell-border-width,\\n      var(--theme-cell-border-width)\\n    );\\n    --cell-text-color: var(\\n      --theme-cell-text-color,\\n      var(--theme-cell-text-color)\\n    );\\n    --cell-font-size: var(--theme-cell-font-size, var(--theme-cell-font-size));\\n    --cell-font-weight: var(\\n      --theme-cell-font-weight,\\n      var(--theme-cell-font-weight)\\n    );\\n    --cell-void-color: var(\\n      --theme-cell-void-color,\\n      var(--theme-cell-void-color)\\n    );\\n\\n    --number-font-size: var(\\n      --theme-number-font-size,\\n      var(--theme-number-font-size)\\n    );\\n    --number-font-weight: var(\\n      --theme-number-font-weight,\\n      var(--theme-number-font-weight)\\n    );\\n    --number-color: var(--theme-number-color, var(--theme-number-color));\\n\\n\\t\\t--toolbar-font: var(\\n\\t\\t\\t--theme-toolbar-font,\\n\\t\\t\\tvar(--theme-toolbar-font)\\n\\t\\t);\\n\\t\\t--toolbar-font-size: var(\\n\\t\\t\\t--theme-toolbar-font-size,\\n\\t\\t\\tvar(--theme-toolbar-font-size)\\n\\t\\t);\\n\\t\\t--toolbar-bg: var(\\n\\t\\t\\t--theme-toolbar-bg,\\n\\t\\t\\tvar(--theme-toolbar-bg)\\n\\t\\t);\\n\\t\\t--toolbar-button-bg: var(\\n\\t\\t\\t--theme-toolbar-button-bg,\\n\\t\\t\\tvar(--theme-toolbar-button-bg)\\n\\t\\t);\\n\\t\\t--toolbar-button-border-radius: var(\\n\\t\\t\\t--theme-toolbar-button-border-radius,\\n\\t\\t\\tvar(--theme-toolbar-button-border-radius)\\n\\t\\t);\\n\\t\\t--toolbar-button-color: var(\\n\\t\\t\\t--theme-toolbar-button-color,\\n\\t\\t\\tvar(--theme-toolbar-button-color)\\n\\t\\t);\\n\\t\\t--toolbar-button-padding: var(\\n\\t\\t\\t--theme-toolbar-button-padding,\\n\\t\\t\\tvar(--theme-toolbar-button-padding)\\n\\t\\t);\\n\\t\\t--toolbar-button-border: var(\\n\\t\\t\\t--theme-toolbar-button-border,\\n\\t\\t\\tvar(--theme-toolbar-button-border)\\n\\t\\t);\\n\\t\\t--toolbar-button-font-weight: var(\\n\\t\\t\\t--theme-toolbar-button-font-weight,\\n\\t\\t\\tvar(--theme-toolbar-button-font-weight)\\n\\t\\t);\\n\\t\\t--toolbar-button-bg-hover: var(\\n\\t\\t\\t--theme-toolbar-button-bg-hover,\\n\\t\\t\\tvar(--theme-toolbar-button-bg-hover)\\n\\t\\t);\\n   \\n\\n    position: relative;\\n    background-color: var(--crossword-bg);\\n  }\\n\\n\\t.play {\\n\\t\\tdisplay: flex;\\n    flex-direction: column;\\n\\t}\\n\\n\\t.play.desktop {\\n\\t\\tflex-direction: var(--clue-puzzle-order, row);\\n\\t}\\n</style>\\n\"],\"names\":[],\"mappings\":\"AA6IE,cAAc,eAAC,CAAC,AAChB,oBAAoB,CAAE,WAAW,CACjC,oBAAoB,CAAE,WAAW,CAC/B,2BAA2B,CAAE,OAAO,CACpC,mBAAmB,CAAE,oCAAoC,CAEzD,iBAAiB,CAAE,oCAAoC,CACvD,uBAAuB,CAAE,OAAO,CAChC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,GAAG,CAC9B,uBAAuB,CAAE,IAAI,CAE7B,4BAA4B,CAAE,OAAO,CACrC,4BAA4B,CAAE,OAAO,CACrC,qBAAqB,CAAE,IAAI,CAC3B,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,IAAI,CAC/B,uBAAuB,CAAE,OAAO,CAChC,sBAAsB,CAAE,KAAK,CAC7B,wBAAwB,CAAE,GAAG,CAC7B,uBAAuB,CAAE,OAAO,CAEhC,wBAAwB,CAAE,KAAK,CAC/B,0BAA0B,CAAE,GAAG,CAC/B,oBAAoB,CAAE,OAAO,CAE/B,oBAAoB,CAAE,oCAAoC,CAC1D,yBAAyB,CAAE,MAAM,CACjC,kBAAkB,CAAE,WAAW,CAC/B,yBAAyB,CAAE,OAAO,CAClC,oCAAoC,CAAE,GAAG,CACzC,4BAA4B,CAAE,OAAO,CACrC,8BAA8B,CAAE,MAAM,CACtC,6BAA6B,CAAE,IAAI,CACnC,kCAAkC,CAAE,GAAG,CACvC,+BAA+B,CAAE,OAAO,AACxC,CAAC,AAED,WAAW,eAAC,CAAC,AACb,oBAAoB,CAAE,OAAO,CAC3B,2BAA2B,CAAE,OAAO,CACpC,mBAAmB,CAAE,oCAAoC,CAE3D,iBAAiB,CAAE,oCAAoC,CACrD,uBAAuB,CAAE,IAAI,CAC7B,6BAA6B,CAAE,OAAO,CACtC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,GAAG,CAC9B,uBAAuB,CAAE,IAAI,CAE/B,4BAA4B,CAAE,IAAI,CAChC,4BAA4B,CAAE,OAAO,CACrC,qBAAqB,CAAE,OAAO,CAC9B,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,IAAI,CAC/B,uBAAuB,CAAE,IAAI,CAC7B,sBAAsB,CAAE,KAAK,CAC7B,wBAAwB,CAAE,GAAG,CAC7B,uBAAuB,CAAE,OAAO,CAElC,wBAAwB,CAAE,KAAK,CAC7B,0BAA0B,CAAE,GAAG,CAC/B,oBAAoB,CAAE,OAAO,CAE/B,oBAAoB,CAAE,oCAAoC,CAC1D,yBAAyB,CAAE,MAAM,CACjC,kBAAkB,CAAE,WAAW,CAC/B,yBAAyB,CAAE,OAAO,CAClC,oCAAoC,CAAE,GAAG,CACzC,4BAA4B,CAAE,OAAO,CACrC,8BAA8B,CAAE,MAAM,CACtC,6BAA6B,CAAE,IAAI,CACnC,kCAAkC,CAAE,GAAG,CACvC,+BAA+B,CAAE,OAAO,AACxC,CAAC,AAED,aAAa,eAAC,CAAC,AACf,oBAAoB,CAAE,WAAW,CAC/B,2BAA2B,CAAE,OAAO,CACpC,mBAAmB,CAAE,oCAAoC,CAEzD,iBAAiB,CAAE,oCAAoC,CACvD,uBAAuB,CAAE,OAAO,CAChC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,GAAG,CAC9B,uBAAuB,CAAE,IAAI,CAE7B,4BAA4B,CAAE,OAAO,CACrC,4BAA4B,CAAE,OAAO,CACrC,qBAAqB,CAAE,IAAI,CAC3B,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,KAAK,CAChC,uBAAuB,CAAE,OAAO,CAChC,sBAAsB,CAAE,MAAM,CAC9B,wBAAwB,CAAE,GAAG,CAC7B,uBAAuB,CAAE,OAAO,CAEhC,wBAAwB,CAAE,MAAM,CAChC,0BAA0B,CAAE,GAAG,CAC/B,oBAAoB,CAAE,OAAO,CAE/B,oBAAoB,CAAE,oCAAoC,CAC1D,yBAAyB,CAAE,MAAM,CACjC,kBAAkB,CAAE,WAAW,CAC/B,yBAAyB,CAAE,OAAO,CAClC,oCAAoC,CAAE,GAAG,CACzC,4BAA4B,CAAE,OAAO,CACrC,8BAA8B,CAAE,MAAM,CACtC,6BAA6B,CAAE,IAAI,CACnC,kCAAkC,CAAE,GAAG,CACvC,+BAA+B,CAAE,OAAO,AACxC,CAAC,AAED,aAAa,eAAC,CAAC,AACf,oBAAoB,CAAE,WAAW,CAC/B,2BAA2B,CAAE,OAAO,CACpC,mBAAmB,CAAE,oCAAoC,CAEzD,iBAAiB,CAAE,oCAAoC,CACvD,uBAAuB,CAAE,OAAO,CAChC,6BAA6B,CAAE,IAAI,CACnC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,GAAG,CAC9B,uBAAuB,CAAE,IAAI,CAE7B,4BAA4B,CAAE,OAAO,CACrC,4BAA4B,CAAE,OAAO,CACrC,qBAAqB,CAAE,IAAI,CAC3B,yBAAyB,CAAE,OAAO,CAClC,yBAAyB,CAAE,IAAI,CAC/B,uBAAuB,CAAE,OAAO,CAChC,sBAAsB,CAAE,KAAK,CAC7B,wBAAwB,CAAE,GAAG,CAC7B,uBAAuB,CAAE,OAAO,CAEhC,wBAAwB,CAAE,KAAK,CAC/B,0BAA0B,CAAE,GAAG,CAC/B,oBAAoB,CAAE,OAAO,CAE/B,oBAAoB,CAAE,oCAAoC,CAC1D,yBAAyB,CAAE,MAAM,CACjC,kBAAkB,CAAE,WAAW,CAC/B,yBAAyB,CAAE,OAAO,CAClC,oCAAoC,CAAE,GAAG,CACzC,4BAA4B,CAAE,OAAO,CACrC,8BAA8B,CAAE,MAAM,CACtC,6BAA6B,CAAE,IAAI,CACnC,kCAAkC,CAAE,GAAG,CACvC,+BAA+B,CAAE,OAAO,AACxC,CAAC,AAED,OAAO,eAAC,CAAC,AACT,cAAc,CAAE;;;KAGb,CACD,qBAAqB,CAAE;;;KAGtB,CACD,aAAa,CAAE,kDAAkD,CAEjE,WAAW,CAAE,8CAA8C,CAC3D,iBAAiB,CAAE;;;KAGlB,CACD,uBAAuB,CAAE;;;KAGxB,CACD,mBAAmB,CAAE;;;KAGpB,CACD,mBAAmB,CAAE;;;KAGpB,CACD,mBAAmB,CAAE;;;KAGpB,CACD,iBAAiB,CAAE;;;KAGlB,CAED,sBAAsB,CAAE;;;KAGvB,CACD,sBAAsB,CAAE;;;KAGvB,CACD,eAAe,CAAE,sDAAsD,CACvE,mBAAmB,CAAE;;;KAGpB,CACD,mBAAmB,CAAE;;;KAGpB,CACD,iBAAiB,CAAE;;;KAGlB,CACD,gBAAgB,CAAE,wDAAwD,CAC1E,kBAAkB,CAAE;;;KAGnB,CACD,iBAAiB,CAAE;;;KAGlB,CAED,kBAAkB,CAAE;;;KAGnB,CACD,oBAAoB,CAAE;;;KAGrB,CACD,cAAc,CAAE,oDAAoD,CAEtE,cAAc,CAAE;;;GAGf,CACD,mBAAmB,CAAE;;;GAGpB,CACD,YAAY,CAAE;;;GAGb,CACD,mBAAmB,CAAE;;;GAGpB,CACD,8BAA8B,CAAE;;;GAG/B,CACD,sBAAsB,CAAE;;;GAGvB,CACD,wBAAwB,CAAE;;;GAGzB,CACD,uBAAuB,CAAE;;;GAGxB,CACD,4BAA4B,CAAE;;;GAG7B,CACD,yBAAyB,CAAE;;;GAG1B,CAGC,QAAQ,CAAE,QAAQ,CAClB,gBAAgB,CAAE,IAAI,cAAc,CAAC,AACvC,CAAC,AAEF,KAAK,eAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACX,cAAc,CAAE,MAAM,AACzB,CAAC,AAED,KAAK,QAAQ,eAAC,CAAC,AACd,cAAc,CAAE,IAAI,mBAAmB,CAAC,IAAI,CAAC,AAC9C,CAAC\"}"
};

const Crossword = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let { data = [] } = $$props;
	let { actions = ["clear", "reveal"] } = $$props;
	let { theme = "classic" } = $$props;
	let { revealDuration = 1000 } = $$props;
	let { breakpoint = 720 } = $$props;
	let { revealed = false } = $$props;
	let { disableHighlight = false } = $$props;
	let { showCompleteMessage = true } = $$props;
	let { showConfetti = true } = $$props;
	let originalClues = createClues(data);
	let validated = validateClues(originalClues);
	let clues = originalClues.map(d => ({ ...d }));
	let cells = createCells(originalClues);
	let width = 0;
	let focusedDirection = "across";
	let focusedCellIndex = 0;
	let isRevealing = false;
	let revealTimeout;

	function checkClues() {
		return clues.map(d => {
			const index = d.index;

			const cellChecks = d.cells.map(c => {
				const { value } = cells.find(e => e.id === c.id);
				const hasValue = !!value;
				const hasCorrect = value === c.answer;
				return { hasValue, hasCorrect };
			});

			const isCorrect = cellChecks.filter(c => c.hasCorrect).length === d.answer.length;
			const isFilled = cellChecks.filter(c => c.hasValue).length === d.answer.length;
			return { ...d, isCorrect, isFilled };
		});
	}

	function reset() {
		isRevealing = false;
		focusedCellIndex = 0;
		focusedDirection = "across";
	}

	function onClear() {
		reset();
		if (revealTimeout) clearTimeout(revealTimeout);
		cells = cells.map(cell => ({ ...cell, value: "" }));
		revealed = false;
	}

	function onReveal() {
		if (revealed) return true;
		reset();
		cells = cells.map(cell => ({ ...cell, value: cell.answer }));
		revealed = true;
		startReveal();
	}

	function startReveal() {
		isRevealing = true;
		if (revealTimeout) clearTimeout(revealTimeout);

		revealTimeout = setTimeout(
			() => {
				isRevealing = false;
			},
			revealDuration + 250
		);
	}

	if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);
	if ($$props.actions === void 0 && $$bindings.actions && actions !== void 0) $$bindings.actions(actions);
	if ($$props.theme === void 0 && $$bindings.theme && theme !== void 0) $$bindings.theme(theme);
	if ($$props.revealDuration === void 0 && $$bindings.revealDuration && revealDuration !== void 0) $$bindings.revealDuration(revealDuration);
	if ($$props.breakpoint === void 0 && $$bindings.breakpoint && breakpoint !== void 0) $$bindings.breakpoint(breakpoint);
	if ($$props.revealed === void 0 && $$bindings.revealed && revealed !== void 0) $$bindings.revealed(revealed);
	if ($$props.disableHighlight === void 0 && $$bindings.disableHighlight && disableHighlight !== void 0) $$bindings.disableHighlight(disableHighlight);
	if ($$props.showCompleteMessage === void 0 && $$bindings.showCompleteMessage && showCompleteMessage !== void 0) $$bindings.showCompleteMessage(showCompleteMessage);
	if ($$props.showConfetti === void 0 && $$bindings.showConfetti && showConfetti !== void 0) $$bindings.showConfetti(showConfetti);
	$$result.css.add(css$a);
	let $$settled;
	let $$rendered;

	do {
		$$settled = true;
		let focusedCell;
		let cellIndexMap;
		let percentCorrect;
		let isComplete;
		let themeClass;
		let isDisableHighlight;
		let desktop;
		focusedCell = cells[focusedCellIndex] || {};
		cellIndexMap = fromPairs(cells.map(cell => [cell.id, cell.index]));
		percentCorrect = cells.filter(d => d.answer === d.value).length / cells.length;
		isComplete = percentCorrect == 1;
		themeClass = theme ? `theme-${theme}` : "";
		isDisableHighlight = isComplete && disableHighlight;

		 {
			(clues = checkClues());
		}

		desktop = width >= breakpoint;

		$$rendered = `${validated
		? `<article class="${"crossword " + escape(themeClass) + " svelte-1yhttaz"}">${slots.toolbar
			? slots.toolbar({ onClear, onReveal })
			: `
		${validate_component(Toolbar, "Toolbar").$$render($$result, { actions }, {}, {})}
	`}

	<div class="${["play svelte-1yhttaz", desktop ? "desktop" : ""].join(" ").trim()}">${validate_component(Clues, "Clues").$$render(
				$$result,
				{
					clues,
					cellIndexMap,
					desktop,
					focusedCellIndex,
					focusedCell,
					focusedDirection
				},
				{
					focusedCellIndex: $$value => {
						focusedCellIndex = $$value;
						$$settled = false;
					},
					focusedCell: $$value => {
						focusedCell = $$value;
						$$settled = false;
					},
					focusedDirection: $$value => {
						focusedDirection = $$value;
						$$settled = false;
					}
				},
				{}
			)}
		${validate_component(Puzzle, "Puzzle").$$render(
				$$result,
				{
					clues,
					focusedCell,
					isRevealing,
					isDisableHighlight,
					revealDuration,
					desktop,
					cells,
					focusedCellIndex,
					focusedDirection
				},
				{
					cells: $$value => {
						cells = $$value;
						$$settled = false;
					},
					focusedCellIndex: $$value => {
						focusedCellIndex = $$value;
						$$settled = false;
					},
					focusedDirection: $$value => {
						focusedDirection = $$value;
						$$settled = false;
					}
				},
				{}
			)}</div>

	${isComplete && !isRevealing && showCompleteMessage
			? `${validate_component(CompletedMessage, "CompletedMessage").$$render($$result, { showConfetti }, {}, {
					default: () => `${slots.complete ? slots.complete({}) : ``}`
				})}`
			: ``}</article>`
		: ``}`;
	} while (!$$settled);

	return $$rendered;
});

var dataNYTMini = [
	{
		clue: "The 1% of 1% milk",
		answer: "FAT",
		direction: "across",
		x: 2,
		y: 0
	},
	{
		clue: "Flicker of light",
		answer: "GLINT",
		direction: "across",
		x: 0,
		y: 1
	},
	{
		clue: "Really neat",
		answer: "NIFTY",
		direction: "across",
		x: 0,
		y: 2
	},
	{
		clue: "\"__ we meet again\"",
		answer: "UNTIL",
		direction: "across",
		x: 0,
		y: 3
	},
	{
		clue: "It's way over your head",
		answer: "SKY",
		direction: "across",
		x: 0,
		y: 4
	},
	{
		clue: "Point bonus for using all seven tiles in Scrabble",
		answer: "FIFTY",
		direction: "down",
		x: 2,
		y: 0
	},
	{
		clue: "Opposite of pro-",
		answer: "ANTI",
		direction: "down",
		x: 3,
		y: 0
	},
	{
		clue: "Texter's \"gotta run\"",
		answer: "TTYL",
		direction: "down",
		x: 4,
		y: 0
	},
	{
		clue: "Migratory antelopes",
		answer: "GNUS",
		direction: "down",
		x: 0,
		y: 1
	},
	{
		clue: "Clickable part of a webpage",
		answer: "LINK",
		direction: "down",
		x: 1,
		y: 1
	}
];

var dataNYTDaily = [
	{
		clue: "Bellyache",
		answer: "BEEF",
		direction: "across",
		x: 0,
		y: 0
	},
	{
		clue: "What many people have for public speaking",
		answer: "PHOBIA",
		direction: "across",
		x: 5,
		y: 0
	},
	{
		clue: "\"We ___ loudest when we ___ to ourselves\": Eric Hoffer",
		answer: "LIE",
		direction: "across",
		x: 12,
		y: 0
	},
	{
		clue: "Taj Mahal city",
		answer: "AGRA",
		direction: "across",
		x: 0,
		y: 1
	},
	{
		clue: "College in Manhattan",
		answer: "BARUCH",
		direction: "across",
		x: 5,
		y: 1
	},
	{
		clue: "Halloween time: Abbr.",
		answer: "OCT",
		direction: "across",
		x: 12,
		y: 1
	},
	{
		clue: "Ways to cross a river in Switzerland?",
		answer: "BERNBRIDGES",
		direction: "across",
		x: 0,
		y: 2
	},
	{
		clue: "Big expense for some city dwellers",
		answer: "CAR",
		direction: "across",
		x: 12,
		y: 2
	},
	{
		clue: "Old Glory's land, for short",
		answer: "USOFA",
		direction: "across",
		x: 0,
		y: 3
	},
	{
		clue: "Funny Brooks",
		answer: "MEL",
		direction: "across",
		x: 6,
		y: 3
	},
	{
		clue: "Prop for Mr. Peanut",
		answer: "CANE",
		direction: "across",
		x: 11,
		y: 3
	},
	{
		clue: "Crow, e.g.",
		answer: "TRIBE",
		direction: "across",
		x: 1,
		y: 4
	},
	{
		clue: "Fixed a mistake at a card table",
		answer: "REDEALT",
		direction: "across",
		x: 7,
		y: 4
	},
	{
		clue: "First showing at a film festival in France?",
		answer: "CANNESOPENER",
		direction: "across",
		x: 3,
		y: 5
	},
	{
		clue: "Co. that merged into Verizon",
		answer: "GTE",
		direction: "across",
		x: 0,
		y: 6
	},
	{
		clue: "Owned",
		answer: "HAD",
		direction: "across",
		x: 5,
		y: 6
	},
	{
		clue: "___ Conventions",
		answer: "GENEVA",
		direction: "across",
		x: 9,
		y: 6
	},
	{
		clue: "Supercharge, as an engine",
		answer: "REV",
		direction: "across",
		x: 0,
		y: 7
	},
	{
		clue: "Lightly touch, as with a handkerchief",
		answer: "DAB",
		direction: "across",
		x: 4,
		y: 7
	},
	{
		clue: "Wyoming-to-Missouri dir.",
		answer: "ESE",
		direction: "across",
		x: 8,
		y: 7
	},
	{
		clue: "Chinese dynasty circa A.D. 250",
		answer: "WEI",
		direction: "across",
		x: 12,
		y: 7
	},
	{
		clue: "Actress Brie of \"Mad Men\"",
		answer: "ALISON",
		direction: "across",
		x: 0,
		y: 8
	},
	{
		clue: "Colorful fish",
		answer: "KOI",
		direction: "across",
		x: 7,
		y: 8
	},
	{
		clue: "Creator of sketches, in brief",
		answer: "SNL",
		direction: "across",
		x: 12,
		y: 8
	},
	{
		clue: "Census taker in India?",
		answer: "DELHICOUNTER",
		direction: "across",
		x: 0,
		y: 9
	},
	{
		clue: "Like Barack Obama's presidency",
		answer: "TWOTERM",
		direction: "across",
		x: 1,
		y: 10
	},
	{
		clue: "Loads",
		answer: "SLEWS",
		direction: "across",
		x: 9,
		y: 10
	},
	{
		clue: "Denny's competitor",
		answer: "IHOP",
		direction: "across",
		x: 0,
		y: 11
	},
	{
		clue: "Mensa stats",
		answer: "IQS",
		direction: "across",
		x: 6,
		y: 11
	},
	{
		clue: "Urban sitting spot",
		answer: "STOOP",
		direction: "across",
		x: 10,
		y: 11
	},
	{
		clue: "Classic tattoo word",
		answer: "MOM",
		direction: "across",
		x: 0,
		y: 12
	},
	{
		clue: "Police dragnet in South Korea?",
		answer: "SEOULSEARCH",
		direction: "across",
		x: 4,
		y: 12
	},
	{
		clue: "Spanish article",
		answer: "UNA",
		direction: "across",
		x: 0,
		y: 13
	},
	{
		clue: "How café may be served",
		answer: "AULAIT",
		direction: "across",
		x: 4,
		y: 13
	},
	{
		clue: "\"If you're asking me,\" in textspeak",
		answer: "IMHO",
		direction: "across",
		x: 11,
		y: 13
	},
	{
		clue: "W-2 fig.",
		answer: "SSN",
		direction: "across",
		x: 0,
		y: 14
	},
	{
		clue: "Fairly",
		answer: "PRETTY",
		direction: "across",
		x: 4,
		y: 14
	},
	{
		clue: "\"___ Eyes\" (1975 Eagles hit)",
		answer: "LYIN",
		direction: "across",
		x: 11,
		y: 14
	},
	{
		clue: "Hindu title of respect",
		answer: "BABU",
		direction: "down",
		x: 0,
		y: 0
	},
	{
		clue: "Expel",
		answer: "EGEST",
		direction: "down",
		x: 1,
		y: 0
	},
	{
		clue: "Misspeaking, e.g.",
		answer: "ERROR",
		direction: "down",
		x: 2,
		y: 0
	},
	{
		clue: "Some derivative stories, colloquially",
		answer: "FANFIC",
		direction: "down",
		x: 3,
		y: 0
	},
	{
		clue: "Brew with hipster cred",
		answer: "PBR",
		direction: "down",
		x: 5,
		y: 0
	},
	{
		clue: "American pop-rock band composed of three sisters",
		answer: "HAIM",
		direction: "down",
		x: 6,
		y: 0
	},
	{
		clue: "Said \"I'll have ...\"",
		answer: "ORDERED",
		direction: "down",
		x: 7,
		y: 0
	},
	{
		clue: "Cone-shaped corn snacks",
		answer: "BUGLES",
		direction: "down",
		x: 8,
		y: 0
	},
	{
		clue: "Swelling reducer",
		answer: "ICE",
		direction: "down",
		x: 9,
		y: 0
	},
	{
		clue: "Sounds of satisfaction",
		answer: "AHS",
		direction: "down",
		x: 10,
		y: 0
	},
	{
		clue: "Broadcast often seen at 6:00 p.m. and 11:00 p.m.",
		answer: "LOCALNEWS",
		direction: "down",
		x: 12,
		y: 0
	},
	{
		clue: "\"That is too much for me\"",
		answer: "ICANTEVEN",
		direction: "down",
		x: 13,
		y: 0
	},
	{
		clue: "To be: Fr.",
		answer: "ETRE",
		direction: "down",
		x: 14,
		y: 0
	},
	{
		clue: "Cake with rum",
		answer: "BABA",
		direction: "down",
		x: 4,
		y: 2
	},
	{
		clue: "Battle of Normandy city",
		answer: "CAEN",
		direction: "down",
		x: 11,
		y: 3
	},
	{
		clue: "Increase, as resolution",
		answer: "ENHANCE",
		direction: "down",
		x: 5,
		y: 4
	},
	{
		clue: "Watches Bowser, say",
		answer: "DOGSITS",
		direction: "down",
		x: 9,
		y: 4
	},
	{
		clue: "Dueling sword",
		answer: "EPEE",
		direction: "down",
		x: 10,
		y: 4
	},
	{
		clue: "Catch",
		answer: "NAB",
		direction: "down",
		x: 6,
		y: 5
	},
	{
		clue: "Skate park feature",
		answer: "RAIL",
		direction: "down",
		x: 14,
		y: 5
	},
	{
		clue: "Many a May or June honoree",
		answer: "GRAD",
		direction: "down",
		x: 0,
		y: 6
	},
	{
		clue: "Some fund-raisers",
		answer: "TELETHONS",
		direction: "down",
		x: 1,
		y: 6
	},
	{
		clue: "1975 hit by the Electric Light Orchestra",
		answer: "EVILWOMAN",
		direction: "down",
		x: 2,
		y: 6
	},
	{
		clue: "\"Just ___\" (Nike slogan)",
		answer: "DOIT",
		direction: "down",
		x: 4,
		y: 7
	},
	{
		clue: "Very long time",
		answer: "EON",
		direction: "down",
		x: 8,
		y: 7
	},
	{
		clue: "Union workplace",
		answer: "SHOP",
		direction: "down",
		x: 3,
		y: 8
	},
	{
		clue: "Small citrus fruit",
		answer: "KUMQUAT",
		direction: "down",
		x: 7,
		y: 8
	},
	{
		clue: "Baltimore athlete",
		answer: "ORIOLE",
		direction: "down",
		x: 6,
		y: 9
	},
	{
		clue: "If-___ (computer programming statement)",
		answer: "ELSE",
		direction: "down",
		x: 10,
		y: 9
	},
	{
		clue: "Wholesale's opposite",
		answer: "RETAIL",
		direction: "down",
		x: 11,
		y: 9
	},
	{
		clue: "Like a bad apple",
		answer: "WORMY",
		direction: "down",
		x: 12,
		y: 10
	},
	{
		clue: "2014 Winter Olympics locale",
		answer: "SOCHI",
		direction: "down",
		x: 13,
		y: 10
	},
	{
		clue: "\"___ in the Morning\" (bygone radio show)",
		answer: "IMUS",
		direction: "down",
		x: 0,
		y: 11
	},
	{
		clue: "Narrow opening",
		answer: "SLIT",
		direction: "down",
		x: 8,
		y: 11
	},
	{
		clue: "Sound: Prefix",
		answer: "PHON",
		direction: "down",
		x: 14,
		y: 11
	},
	{
		clue: "Gradually weaken",
		answer: "SAP",
		direction: "down",
		x: 4,
		y: 12
	},
	{
		clue: "Home of most of the members of NATO: Abbr.",
		answer: "EUR",
		direction: "down",
		x: 5,
		y: 12
	},
	{
		clue: "Total mess",
		answer: "STY",
		direction: "down",
		x: 9,
		y: 12
	}
];

var dataOreo = [
	{
		clue: "Black-and-white cookie",
		answer: "OREO",
		direction: "down",
		x: 0,
		y: 0
	},
	{
		clue: "Popular cookie",
		answer: "OREO",
		direction: "down",
		x: 3,
		y: 0
	},
	{
		clue: "Creme-filled cookie",
		answer: "OREO",
		direction: "across",
		x: 0,
		y: 3
	},
	{
		clue: "Sandwich cookie",
		answer: "OREO",
		direction: "across",
		x: 0,
		y: 0
	}
];

var dataUSA = [
	{
		answer: "BARRYMORE",
		clue: "\"Whip It\" director Drew",
		direction: "across",
		x: 0,
		y: 0,
		custom: "woman"
	},
	{
		answer: "DAHL",
		clue: "\"Journey to the Center of the Earth\" star Arlene",
		direction: "across",
		x: 9,
		y: 1,
		custom: "woman"
	},
	{
		answer: "LETITIA",
		clue: "\"Black Panther\" actress Wright",
		direction: "across",
		x: 0,
		y: 2,
		custom: "woman"
	},
	{
		answer: "RIHANNA",
		clue: "\"Disturbia\" singer",
		direction: "across",
		x: 6,
		y: 3,
		custom: "woman"
	},
	{
		answer: "DIRK",
		clue: "Dallas Mavericks great Nowitzki",
		direction: "across",
		x: 3,
		y: 4,
		custom: "man"
	},
	{
		answer: "HANNAH",
		clue: "Oscar winner Beachler",
		direction: "across",
		x: 6,
		y: 5,
		custom: "woman"
	},
	{
		answer: "GEORGIA",
		clue: "Painter with a museum in Santa Fe",
		direction: "across",
		x: 0,
		y: 6,
		custom: "woman"
	},
	{
		answer: "LIZZO",
		clue: "\"Cuz I Love You\" singer",
		direction: "across",
		x: 8,
		y: 7,
		custom: "woman"
	},
	{
		answer: "LEVY",
		clue: "TV star Dan",
		direction: "across",
		x: 3,
		y: 8,
		custom: "man"
	},
	{
		answer: "RAE",
		clue: "\"The Misadventures of Awkward Black Girl\" author Issa",
		direction: "across",
		x: 0,
		y: 9,
		custom: "woman"
	},
	{
		answer: "ALBERT",
		clue: "Slugger Pujols",
		direction: "across",
		x: 6,
		y: 9,
		custom: "man"
	},
	{
		answer: "TRACE",
		clue: "\"Hustlers\" actress Lysette",
		direction: "across",
		x: 0,
		y: 11,
		custom: "woman"
	},
	{
		answer: "OHENRY",
		clue: "\"The Gift of the Magi\" author",
		direction: "across",
		x: 5,
		y: 12,
		custom: "man"
	},
	{
		answer: "BELLA",
		clue: "Actress Thorne",
		direction: "down",
		x: 0,
		y: 0,
		custom: "woman"
	},
	{
		answer: "RITA",
		clue: "Acting legend Moreno",
		direction: "down",
		x: 2,
		y: 0,
		custom: "woman"
	},
	{
		answer: "OMARKHAYYAM",
		clue: "Persian poet, astronomer, mathematician",
		direction: "down",
		x: 6,
		y: 0,
		custom: "man"
	},
	{
		answer: "ALIA",
		clue: "\"Search Party\" star Shawkat",
		direction: "down",
		x: 12,
		y: 0,
		custom: "woman"
	},
	{
		answer: "DUA",
		clue: "\"New Rules\" singer Lipa",
		direction: "down",
		x: 9,
		y: 1,
		custom: "woman"
	},
	{
		answer: "NIA",
		clue: "\"In Too Deep\" actress Long",
		direction: "down",
		x: 10,
		y: 3,
		custom: "woman"
	},
	{
		answer: "DARYL",
		clue: "Actress ___ Hannah",
		direction: "down",
		x: 3,
		y: 4,
		custom: "woman"
	},
	{
		answer: "LEBRON",
		clue: "NBA star James",
		direction: "down",
		x: 8,
		y: 7,
		custom: "man"
	},
	{
		answer: "GRETA",
		clue: "Director Gerwig",
		direction: "down",
		x: 0,
		y: 8,
		custom: "woman"
	},
	{
		answer: "ELLE",
		clue: "\"Ex's & Oh's\" singer King",
		direction: "down",
		x: 4,
		y: 8,
		custom: "woman"
	},
	{
		answer: "EVA",
		clue: "Model Marcille",
		direction: "down",
		x: 2,
		y: 9,
		custom: "woman"
	},
	{
		answer: "TAN",
		clue: "Fashion expert France",
		direction: "down",
		x: 11,
		y: 9,
		custom: "man"
	}
];

/* example/App.svelte generated by Svelte v3.29.0 */

const css$b = {
	code: "article.svelte-1g7on86{font-family:sans-serif}.intro.svelte-1g7on86{text-align:center;max-width:640px;margin:0 auto}section.svelte-1g7on86{max-width:960px;margin:5em auto;padding:0 1em}h1.svelte-1g7on86{margin:0;font-size:2em;max-width:640px}p.svelte-1g7on86{max-width:640px;margin:1em 0}",
	map: "{\"version\":3,\"file\":\"App.svelte\",\"sources\":[\"App.svelte\"],\"sourcesContent\":[\"<script>\\n  import Crossword from \\\"../src/Crossword.svelte\\\";\\n  import dataNYTMini from \\\"./data-nyt-mini.json\\\";\\n  import dataNYTDaily from \\\"./data-nyt-daily.json\\\";\\n  import dataOreo from \\\"./data-oreo.json\\\";\\n  import dataAmelia from \\\"./data-amelia.json\\\";\\n  import dataUSA from \\\"./data-usa.json\\\";\\n\\n  let revealedUSA;\\n  let theme;\\n</script>\\n\\n<article>\\n  <div class=\\\"intro\\\">\\n    <h1>Svelte Crossword</h1>\\n    <p>\\n      A crossword component for\\n      <a href=\\\"https://svelte.dev\\\">Svelte</a>. Read the docs on\\n      <a\\n        href=\\\"https://github.com/russellgoldenberg/svelte-crossword#svelte-crossword\\\">Github</a>.\\n    </p>\\n  </div>\\n\\n  <section id=\\\"default\\\">\\n    <h1>Default</h1>\\n    <p>\\n      A\\n      <a href=\\\"https://www.nytimes.com/crosswords/game/daily/2020/10/21\\\">NYT\\n        daily</a>\\n      puzzle with all default settings.\\n    </p>\\n    <Crossword data=\\\"{dataNYTDaily}\\\" />\\n\\t</section>\\n\\t\\n\\n  <section id=\\\"mini\\\" style=\\\"max-width: 480px;\\\">\\n    <h1>Mobile</h1>\\n    <p>\\n\\t\\t\\tA\\n      <a href=\\\"https://www.nytimes.com/crosswords/game/mini/2020/10/21\\\">NYT mini</a>\\n      puzzle with all default settings and forced mobile view.\\n    </p>\\n\\t\\t<Crossword data=\\\"{dataNYTMini}\\\" />\\n  </section>\\n\\n  <section id=\\\"themes\\\">\\n    <h1>Themes</h1>\\n    <p>A library of preset style themes to choose from.</p>\\n    <select bind:value=\\\"{theme}\\\">\\n      <option value=\\\"classic\\\">Classic</option>\\n      <option value=\\\"dark\\\">Dark</option>\\n      <option value=\\\"amelia\\\">Amelia</option>\\n      <option value=\\\"citrus\\\">Citrus</option>\\n    </select>\\n    <div>\\n      <Crossword\\n        data=\\\"{dataOreo}\\\"\\n        theme=\\\"{theme}\\\"\\n        showCompleteMessage=\\\"{false}\\\" />\\n    </div>\\n  </section>\\n\\n  <section id=\\\"simple-customization\\\" class:is-revealed=\\\"{revealedUSA}\\\">\\n    <h1>Simple Customization</h1>\\n    <p>Custom class name on cells.</p>\\n    <Crossword\\n      data=\\\"{dataUSA}\\\"\\n      disableHighlight=\\\"{revealedUSA}\\\"\\n      bind:revealed=\\\"{revealedUSA}\\\" />\\n  </section>\\n\\n  <section id=\\\"advanced-customization\\\">\\n    <p>Advanced Customization</p>\\n    <Crossword data=\\\"{dataNYTDaily}\\\">\\n      <div\\n        class=\\\"toolbar\\\"\\n        slot=\\\"toolbar\\\"\\n        let:onClear\\n        let:onReveal\\n        style=\\\"background: yellow; padding: 2em;\\\">\\n        <button on:click=\\\"{onClear}\\\">clear puzzle</button>\\n        <button on:click=\\\"{onReveal}\\\">show answers</button>\\n      </div>\\n      <div slot=\\\"complete\\\">\\n\\t\\t\\t\\t<h3>OMG, congrats!</h3>\\n\\t\\t\\t\\t<img alt=\\\"celebration\\\" src=\\\"https://media3.giphy.com/media/QpOZPQQ2wbjOM/giphy.gif\\\" />\\n\\t\\t\\t</div>\\n    </Crossword>\\n  </section>\\n</article>\\n\\n<style>\\n  article {\\n    font-family: sans-serif;\\n  }\\n  .intro {\\n    text-align: center;\\n    max-width: 640px;\\n    margin: 0 auto;\\n  }\\n  section {\\n    max-width: 960px;\\n    margin: 5em auto;\\n\\t\\tpadding: 0 1em;\\n  }\\n  h1 {\\n    margin: 0;\\n    font-size: 2em;\\n    max-width: 640px;\\n  }\\n  p {\\n    max-width: 640px;\\n    margin: 1em 0;\\n  }\\n</style>\\n\"],\"names\":[],\"mappings\":\"AA4FE,OAAO,eAAC,CAAC,AACP,WAAW,CAAE,UAAU,AACzB,CAAC,AACD,MAAM,eAAC,CAAC,AACN,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IAAI,AAChB,CAAC,AACD,OAAO,eAAC,CAAC,AACP,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,GAAG,CAAC,IAAI,CAClB,OAAO,CAAE,CAAC,CAAC,GAAG,AACd,CAAC,AACD,EAAE,eAAC,CAAC,AACF,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,GAAG,CACd,SAAS,CAAE,KAAK,AAClB,CAAC,AACD,CAAC,eAAC,CAAC,AACD,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,GAAG,CAAC,CAAC,AACf,CAAC\"}"
};

const App = create_ssr_component(($$result, $$props, $$bindings, slots) => {
	let revealedUSA;
	let theme;
	$$result.css.add(css$b);
	let $$settled;
	let $$rendered;

	do {
		$$settled = true;

		$$rendered = `<article class="${"svelte-1g7on86"}"><div class="${"intro svelte-1g7on86"}"><h1 class="${"svelte-1g7on86"}">Svelte Crossword</h1>
    <p class="${"svelte-1g7on86"}">A crossword component for
      <a href="${"https://svelte.dev"}">Svelte</a>. Read the docs on
      <a href="${"https://github.com/russellgoldenberg/svelte-crossword#svelte-crossword"}">Github</a>.
    </p></div>

  <section id="${"default"}" class="${"svelte-1g7on86"}"><h1 class="${"svelte-1g7on86"}">Default</h1>
    <p class="${"svelte-1g7on86"}">A
      <a href="${"https://www.nytimes.com/crosswords/game/daily/2020/10/21"}">NYT
        daily</a>
      puzzle with all default settings.
    </p>
    ${validate_component(Crossword, "Crossword").$$render($$result, { data: dataNYTDaily }, {}, {})}</section>
	

  <section id="${"mini"}" style="${"max-width: 480px;"}" class="${"svelte-1g7on86"}"><h1 class="${"svelte-1g7on86"}">Mobile</h1>
    <p class="${"svelte-1g7on86"}">A
      <a href="${"https://www.nytimes.com/crosswords/game/mini/2020/10/21"}">NYT mini</a>
      puzzle with all default settings and forced mobile view.
    </p>
		${validate_component(Crossword, "Crossword").$$render($$result, { data: dataNYTMini }, {}, {})}</section>

  <section id="${"themes"}" class="${"svelte-1g7on86"}"><h1 class="${"svelte-1g7on86"}">Themes</h1>
    <p class="${"svelte-1g7on86"}">A library of preset style themes to choose from.</p>
    <select${add_attribute("value", theme, 1)}><option value="${"classic"}">Classic</option><option value="${"dark"}">Dark</option><option value="${"amelia"}">Amelia</option><option value="${"citrus"}">Citrus</option></select>
    <div>${validate_component(Crossword, "Crossword").$$render(
			$$result,
			{
				data: dataOreo,
				theme,
				showCompleteMessage: false
			},
			{},
			{}
		)}</div></section>

  <section id="${"simple-customization"}" class="${["svelte-1g7on86", revealedUSA ? "is-revealed" : ""].join(" ").trim()}"><h1 class="${"svelte-1g7on86"}">Simple Customization</h1>
    <p class="${"svelte-1g7on86"}">Custom class name on cells.</p>
    ${validate_component(Crossword, "Crossword").$$render(
			$$result,
			{
				data: dataUSA,
				disableHighlight: revealedUSA,
				revealed: revealedUSA
			},
			{
				revealed: $$value => {
					revealedUSA = $$value;
					$$settled = false;
				}
			},
			{}
		)}</section>

  <section id="${"advanced-customization"}" class="${"svelte-1g7on86"}"><p class="${"svelte-1g7on86"}">Advanced Customization</p>
    ${validate_component(Crossword, "Crossword").$$render($$result, { data: dataNYTDaily }, {}, {
			toolbar: ({ onClear, onReveal }) => `<div class="${"toolbar"}" slot="${"toolbar"}" style="${"background: yellow; padding: 2em;"}"><button>clear puzzle</button>
        <button>show answers</button></div>`,
			complete: () => `<div slot="${"complete"}"><h3>OMG, congrats!</h3>
				<img alt="${"celebration"}" src="${"https://media3.giphy.com/media/QpOZPQQ2wbjOM/giphy.gif"}"></div>`,
			default: () => `
      `
		})}</section>
</article>`;
	} while (!$$settled);

	return $$rendered;
});

module.exports = App;
